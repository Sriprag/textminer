222

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 20, NO. 1, JANUARY 2016

Coexistence of ZigBee-Based WBAN and WiFi
for Health Telemonitoring Systems
Yena Kim, Student Member, IEEE, SeungSeob Lee, Student Member, IEEE, and SuKyoung Lee, Member, IEEE

Abstract—The development of telemonitoring via wireless body
area networks (WBANs) is an evolving direction in personalized
medicine and home-based mobile health. A WBAN consists of
small, intelligent medical sensors which collect physiological parameters such as electrocardiogram, electroencephalography, and
blood pressure. The recorded physiological signals are sent to a
coordinator via wireless technologies, and are then transmitted
to a healthcare monitoring center. One of the most widely used
wireless technologies in WBANs is ZigBee because it is targeted
at applications that require a low data rate and long battery life.
However, ZigBee-based WBANs face severe interference problems
in the presence of WiFi networks. This problem is caused by the fact
that most ZigBee channels overlap with WiFi channels, severely affecting the ability of healthcare monitoring systems to guarantee
reliable delivery of physiological signals. To solve this problem,
we have developed an algorithm that controls the load in WiFi networks to guarantee the delay requirement for physiological signals,
especially for emergency messages, in environments with coexistence of ZigBee-based WBAN and WiFi. Since WiFi applications
generate traffic with different delay requirements, we focus only
on WiFi traffic that does not have stringent timing requirements.
In this paper, therefore, we propose an adaptive load control algorithm for ZigBee-based WBAN/WiFi coexistence environments,
with the aim of guaranteeing that the delay experienced by ZigBee
sensors does not exceed a maximally tolerable period of time. Simulation results show that our proposed algorithm guarantees the
delay performance of ZigBee-based WBANs by mitigating the effects of WiFi interference in various scenarios.
Index Terms—Adaptive load control, delay, health telemonitoring, wireless body area network, ZigBee.

I. INTRODUCTION
HE development of health telemonitoring via wireless
body area networks (WBANs) is an evolving direction
in personalized medicine and home-based mobile health. In a
health telemonitoring system, a WBAN consists of a number
of lightweight miniature sensors. The sensors measure physiological parameters such as electrocardiography (EKG), electroencephalogram (EEG), body temperature, and blood pressure. These measurements are transmitted to an external data
aggregation device called a coordinator via wireless communi-

T

Manuscript received October 12, 2014; revised December 11, 2014; accepted
December 23, 2014. Date of publication January 6, 2015; date of current version
December 31, 2015. This research was supported by the MSIP (Ministry of Science, ICT and Future Planning), Korea, under the ITRC (Information Technology Research Center) support program (IITP-2015-H8501-15-1019) supervised
by the IITP (Institute for Information & Communications Technology Promotion). (Corresponding author: SuKyoung Lee, e-mail:sklee@yonsei.ac.kr).
The authors are with the Department of Computer Science, Yonsei University,
Seoul, 120-749, South Korea (e-mail: yenakim22@gmail.com; shsym1989@
gmail.com).
Color versions of one or more of the figures in this paper are available online
at http://ieeexplore.ieee.org.
Digital Object Identifier 10.1109/JBHI.2014.2387867

cation networks, and are then sent to a health telemonitoring
center (e.g., a hospital) via the Internet. At the hospital, medical
professionals monitor their patients’ physiological parameters
continuously, so that there is no need for them to visit the hospital in person.
The physiological signals in the system can be categorized
into two types: regularly collected information and emergency
messages. Regularly collected information is stored and transmitted after a given period of time, while emergency messages
must be transmitted immediately since they alert the hospital to
emergency situations such as excessively high or low blood pressure or body temperature, or heart beat stoppage. According to
the TG6 technical requirement document, emergency messages
must be transmitted in less than 1 s [1]. Hence, guaranteed delay
requirement is of utmost importance to the proper operation of
health telemonitoring systems.
One of the most widely used wireless technologies in WBANs
is ZigBee (IEEE 802.15.4) because “it is targeted at applications
that require a low data rate and long battery life” [2]. However,
operating on the unlicensed 2.4-GHz industrial scientific and
medical (ISM) band, ZigBee is subject to interference from coexisting WiFi (IEEE 802.11) devices which share this band. This
is because the transmit power of WiFi is 5–20 dB stronger than
that of ZigBee, which “easily forces ZigBee sensors to back
off and dominate the ZigBee interference” [3]. In the presence
of WiFi devices, therefore, it is difficult to guarantee reliable
delivery of vital signs, especially for emergency messages. Furthermore, “with the proliferation of WiFi devices (e.g., smartphones) and high-rate applications (e.g., HD video streaming),”
recent studies have shown that “moderate to high WiFi traffic”
increases the delivery delay of each ZigBee packet [3].
In recent years, extensive efforts [4]–[14] have been made
to enhance the performance of ZigBee in coexistence environments. To avoid WiFi interference, the authors in [4]–[6] propose channel allocation algorithms that assign channels which
are less frequently used or unused by WiFi devices to ZigBee
sensors. This is a simple method, but it results in providing only
a limited number of channels for ZigBee sensors in densely
deployed WiFi environments. To avoid this problem, the authors in [3] and [7] propose interference mitigation algorithms
that are applied when ZigBee and WiFi devices operate on the
same channels. However, it is hard to apply these algorithms
to WBANs for health telemonitoring systems since they do not
take into account WBAN features such as star topology, low
delay requirement, and patient mobility. Although the authors
in [8]–[11] consider coexistence of ZigBee-based WBANs and
WiFi devices for health telemonitoring, none of them specifies
a solution to the interference problem. Recently, the authors in
[12]–[14] have proposed schemes for the reliable transmission

2168-2194 © 2014 IEEE. Personal use is permitted, but republication/redistribution requires IEEE permission.
See http://www.ieee.org/publications standards/publications/rights/index.html for more information.

KIM et al.: COEXISTENCE OF ZIGBEE-BASED WBAN AND WIFI FOR HEALTH TELEMONITORING SYSTEMS

of medical data. While the authors in [12] neglect to consider the
problem of interference between different wireless technologies,
the authors in [13] and [14] address this problem by “extracting
idle spaces from a group of orthogonal candidate channels” and
assigning the extracted channels to target sensors. However, this
process results in the same problems that arise from the channel
allocation algorithms (i.e., additional delay and limited number
of channels). Therefore, there exists a pressing need to devise
a new scheme that guarantees the delay requirement for health
telemonitoring systems, especially for emergency messages, in
ZigBee-based WBAN and WiFi coexistence environments.
We propose an algorithm that satisfies the delay requirement
for emergency messages by controlling WiFi traffic for health
telemonitoring systems. In WiFi networks, various WiFi applications such as WWW, FTP, P2P, and audio/video streaming
generate traffic with different delay requirements. For example,
delays for video traffic from PPLive should not exceed 400 ms,
whereas 5 s is suggested as an acceptable delay for data traffic
from BitTorrent [15], [16]. Hence, in this paper, we control only
WiFi traffic that is not stringently delay-sensitive.
The rest of this paper is organized as follows. Section II
summarizes previous work related to the interference problem.
Section III presents analytical models of the packet error rate
(PER) in WiFi networks and delays in ZigBee-based WBANs,
and describes our adaptive load control algorithm. In Section IV,
we report the results of simulation experiments that demonstrate
the performance improvements of the proposed algorithm. Finally, we conclude the paper in Section V.

II. RELATED STUDY
There have been many studies on minimizing WiFi interference by allocating channels that are less frequently used or unused by WiFi devices to ZigBee sensors. Zhao et al. propose “a
multiradio testbed” for heterogeneous wireless sensor networks
[4]. They use the testbed to study the coexistence problem of
IEEE 802.15.4 and IEEE 802.11. Based on their evaluation results, “guidelines on channel allocation and network parameter”
configurations are offered to minimize interference. Won et al.
propose an “adaptive channel allocation scheme” for supporting
the coexistence of 802.15.4 and 802.11b, allowing 802.15.4 to
utilize multiple channels in a wireless personal area network
(WPAN) [5]. Yet the scheme is impractical since each WPAN is
assumed to use only one channel. Yi et al. propose “a frequency
agility-based interference avoidance algorithm” in which once
interference is detected, “the coordinator selects the channel
with the lowest noise levels and then requests all nodes in the
PAN to migrate to this channel” [6]. Based on their simulation
results, they suggest a “safe distance and safe offset frequency
to guide ZigBee deployment” in the presence of WiFi interference. However, it is not easy to maintain their recommended
“safe distance and safe offset frequency” due to the movement
of WiFi users. Although the channel allocation algorithms provide a straightforward way to avoid WiFi interference, there
are still delays in detecting interference and changing operating
channels [4]–[6]. Furthermore, there are only a limited number
of channels for ZigBee sensors in densely deployed WiFi en-

223

vironments. Therefore, an interference mitigation algorithm is
needed when ZigBee and WiFi operate on the same channel.
To avoid WiFi interference at the coordinator due to the higher
signal strength of WiFi than of ZigBee and to the use of the
same channel as ZigBee, some approaches have been proposed
based on particular characteristics of ZigBee and WiFi [3], [7].
Kim and Kwon present an interference-aware topology control
algorithm for low-rate WPANs in which “each WPAN node
estimates interference effects periodically and reconstructs the
network topology when interference is detected” [7]. Their evaluation results demonstrate the effectiveness of the proposed algorithm in wide areas with numerous nodes. Zhang and Shin
propose “cooperative carrier signaling (CCS)” to facilitate coexistence between ZigBee and WiFi [3]. “CCS employs a separate
ZigBee node to emit a carrier signal (a busy tone) concurrently
with the desired ZigBee data transmission,” thereby “enhancing
the visibility of ZigBee to WiFi” [3]. Despite the clear advantages of the interference mitigation methods described previously, they are difficult to apply to ZigBee-based WBANs for
health telemonitoring systems because they do not take into
account particular WBAN features as follows. First, the effectiveness of the algorithm proposed in [7] is not guaranteed in
WBANs consisting of only a few sensors that are directly connected to a coordinator. Second, the additional ZigBee device
needed in [3] to emit a busy tone has to be attached onto a
patient’s body.
Coexistence architectures for health telemonitoring have been
proposed in [8]–[11]. Francisco et al. present a coexistence
structure and evaluate “the feasibility of WBAN systems” in
hospital rooms, assessing their robustness to WiFi interference
[8]. They conclude that in the presence of 802.11g interference
within the room, an 802.15.4 link cannot ensure high performance even for large frequency offsets due to close reflections
from the walls. However, they do not provide any explanation
of how to minimize WLAN interference in hospital rooms. In
[9]–[11], the authors develop a two-tier wireless architecture
that uses WBAN and WLAN for health telemonitoring. The authors in [9] and [10] introduce a “two-tier networking structure
that uses IEEE 802.15.4 low data-rate WPAN for the patients
BAN, and IEEE 802.11b for the connection between the BAN
coordinators and the wired portion of the healthcare system.”
Rashwand and Misic develop the architecture of an “IEEE
802.15.6-based WBANs/IEEE 802.11e-enhanced distributed
channel access (EDCA)-based” WLAN-bridged network for a
wireless healthcare system [11]. By mapping the “WBAN user
priorities into WLAN access categories,” they convey the medical data to the WLAN access point (AP). Despite the fact that
the authors in [9]–[11] propose the two-tier architectures using
IEEE 802.15.4 and IEEE 802.11 for healthcare monitoring, they
assume no interference between them.
“Due to potentially life-threatening situations, the reliable and
timely delivery of vital body parameters” is critically important
for the effective operation of patient monitoring networks [12],
[14]. Although the authors in [12] propose a scheme for making
IEEE 802.15.4-based WBANs able to provide reliability in the
transmission of health monitoring data, they consider only the
interference caused by the transmissions of coexisting WBANs.
Considering the interference between different types of wireless

224

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 20, NO. 1, JANUARY 2016

technologies, Torabi and Leung propose “centralized body area
network access scheme (CBAS)” in which a gateway extracts
white spaces from the ISM band and ultra wideband and then
assigns them to sensors for health monitoring [13]. Using CBAS,
Torabi and Leung improve the packet delivery ratios for medical
data transmissions [14]. Although these studies provide reliable
transmissions over BANs [13], [14], there are delays in changing
channels. Even in an emergency situation, the sensor must first
send a request to the gateway in order to obtain an opportunity
to transmit.
Based on the aforementioned observations, we propose a new
mechanism to guarantee the delay requirement for emergency
messages with the aim of facilitating the coexistence of ZigBeebased WBANs and WiFi for healthcare monitoring systems. The
main contributions of this paper are twofold:
1) an adaptive load control algorithm for interference mitigation that controls only WiFi traffic generated from delaytolerant applications, and
2) guaranteed the maximum tolerable delay requirement
for ZigBee-based WBANs, especially for emergency
messages.
Fig. 1.

Overall ZigBee-based WBAN architecture coexisting with WiFi.

III. ADAPTIVE LOAD CONTROL FOR ZIGBEE-BASED WBANS
WITH COEXISTING WIFI NETWORKS
In this section, we describe our proposed interference mitigation algorithm for regulating the load in WiFi networks to
satisfy the delay requirement for ZigBee-based WBANs.
A. ZigBee-Based WBAN/WiFi Coexistence Architecture
In this section, we present the ZigBee-based WBAN architecture with a coexisting WiFi network. In the architecture considered in this paper, the ZigBee-based WBAN coexists with a
WiFi network at home. This is because WiFi networks are becoming increasingly popular as the number of mobile users who
install small-size APs rises. Medical sensors, attached onto or
implanted in the body, are connected to a coordinator via ZigBee
communication. The coordinator, implemented on a personal
digital assistant, cell phone, or personal computer, aggregates
medical information from ZigBee sensors and forwards the collected information to a health telemonitoring system through an
AP, which is connected to the Internet.
As mentioned in Section I, the goal of the health telemonitoring system is to provide automatic and reliable data transmission
between the medical sensors and the health telemonitoring system. In the presence of WiFi traffic on the shared channel, however, ZigBee-based WBANs can suffer significant degradation
in delay performance due to WiFi interference. In such cases,
it is difficult to guarantee fast transmission of an emergency
message when an emergency condition (e.g., heart attack) has
been detected.
Some applications in WiFi networks generate traffic that does
not have stringent timing requirements. For example, while 5 s is
an acceptable delivery delay for data traffic from BitTorrent, the
latency of video traffic from PPLive should be less than 400 ms
[15], [16]. In this paper, therefore, we propose an algorithm
for reducing only the WiFi traffic generated from delay-tolerant

applications to guarantee that delays experienced by ZigBee
sensors, especially for emergency messages, do not exceed the
maximally tolerable delay.
The ZigBee-based WBAN/WiFi architecture is shown in
Fig. 1. Once interference is detected, the coordinator sends the
WiFi node information to alert the AP to the presence of WiFi
interference. The AP identifies the WiFi node that has the highest received signal strength and is generating traffic that does
not have any time-based sensitivity requirements. With the use
of traffic classification, the traffic has already been determined.
The AP then sends a message to the identified WiFi node, and
upon its receipt, the node reduces its transmission rate.
B. PER Analysis in ZigBee-Based WBAN/WiFi Coexistence
Networks
For WiFi networks, let Pcca be the clear channel assessment
(CCA) power threshold in watts. This is the minimum power
required for correct receipt of transmitted packets. We define
(w )
Ac as a set of WiFi nodes whose signal strength observed at
a coordinator c is greater than Pcca
(w )

)
A(w
= {WiFi node j | Pc,j ≥ Pcca }
c

(1)

(w )

where Pc,j is the received signal power of WiFi node j observed at coordinator c. Let Pc,m be the power of the signal sent
from ZigBee sensor m at ZigBee coordinator c’s receiver, and
let Pnoise be the received noise power level at coordinator c.
The signal-to-interference-plus-noise ratio (SINR) at coordina(I )
tor c from ZigBee sensor m with WiFi interference, Sc,m , and
without WiFi interference, Sc,m , are given as
(I )
=
Sc,m

Pc,m
(w )

Pnoise + Pc

(2)

KIM et al.: COEXISTENCE OF ZIGBEE-BASED WBAN AND WIFI FOR HEALTH TELEMONITORING SYSTEMS

225

coordinator c as follows:

and
Sc,m =

(b)

Pc,m
Pnoise

(3)

(b)
) 0
= Dw t + (u(z
Dc,m
c ) D0 + ...
) X −1
DX −1 +
+ (u(z
c )
(b)

(w )

where Pc is the average received signal power of WiFi nodes
observed at coordinator c.
Assuming an additive white Gaussian noise channel, we can
express the bit error rate (BER) as a function of the SINR as
follows [6], [17]:

(4)
BER(S) = Q( 2γS)
 2
∞
where γ = 0.85 and Q(x)= √12π x exp − y2 dy.
Using (2)–(4), the PER for a packet sent from ZigBee sensor
m when coordinator c receives a packet is determined as follows:
(w )

ec,m = 1 − (1 − BER(Sc,m ))L (1−u c

)

(w )

(I )
× (1 − BER(Sc,m
))L u c

(5)
(w )

where L is the average length of a ZigBee packet and uc
the WiFi channel utilization observed at coordinator c.

is

= Dw t +

X
−1


(z )

(uc )X
1−

(z )
uc

(b)

DX

(z )

) x (b)
(u(z
c ) Dx +

x=1

(uc )X
1−

(z )
uc

(b)

DX .

(8)

Let Ts and Tf be the duration of successful and unsuccessful ZigBee frame transmissions, respectively. For IEEE
802.15.4, Ts = bL + TCCA + TSIFS + TACK and Tf = bL +
TCCA + TACK,TO , where b is the duration of a bit transmission,
TCCA is the duration of CCA in ZigBee, TSIFS is the duration of
a short ZigBee interframe space, TACK is the duration of a ZigBee ACK packet, and TACK,TO is the duration of ZigBee ACK
timeout [6]. Using (5) and (8), we can obtain the transmission
delay Dc,m for a ZigBee packet sent from ZigBee sensor m to
coordinator c, as follows:
ec,m
(b)
+ Ts ) +
(D(b) + Tf )
Dc,m = (Dc,m
1 − ec,m c,m
(b)
+ ec,m Tf ).
= Ts + (1 − ec,m )−1 (Dc,m

(9)

C. Delay Analysis in ZigBee-Based WBANs

D. WiFi Traffic Classification

Let Tbi and Tsf denote the beacon interval and the superframe
duration in the ZigBee network, respectively. Noting that each
packet is generated in a slot, the average waiting time before
sensing the channel condition (i.e., CCA) is

We aim to improve the delay performance of the ZigBee
network by controlling only the WiFi traffic generated from
delay-tolerant applications so that delay-sensitive WiFi traffic
remains uninterrupted. In this section, therefore, we introduce
a mechanism that classifies WiFi traffic into the two classes
of real-time (RT) (e.g., PPLive, Google Hangouts) and nonreal-time (NRT) (e.g., BitTorrent, Web browsing, YouTube) and
identifies the traffic class for an application.
Our classification mechanism works in two phases: offline
training and online classification phases. In the offline training
phase, we extract the characteristic features of the traffic generated by each application using Wireshark [18]. The features
of the traffic we consider in this study are frame size (FS) and
frame interarrival time (FIT). 50% of the dataset is chosen randomly as the training dataset, and the remaining 50% is used
for testing [19]. The training phase calculates the statistical features of a set of training data (i.e., FS and FIT) and outputs a set
of traffic descriptors {(FSi , FITi )} for the two classes. Then,
when WiFi traffic arrives at the AP, it is identified online as one
of the traffic classes using the statistical features obtained from
the offline training phase.

Dw t =

(Tbi − Tsf )2
Tbi − Tsf Tbi − Tsf
.
=
Tbi
2
2Tbi

(6)

The ZigBee node waits for a random number of backoff periods and senses the channel condition. The random number
for backoff is uniformly distributed in the range of [0, W0 − 1],
where W0 is the size of the initial contention window. If the
channel is busy, channel access fails and the ZigBee sensor
waits again for a random number of backoff periods with the
new contention window W1 = 2 × W0 . Subsequent channel access failure causes further doublings of the contention window until the window size reaches a maximum value of WX .
Thus, the average backoff time for the contention window size
Wx (0 ≤ x ≤ X) can be expressed as
x

k
Wx + 1
Tb + (Tbi − Tsf )
2
Nsf Wx

W

Dx(b) =

k =1

=

Wx + 1
1
(Tb +
(Tbi − Tsf ))
2
Nsf

(7)

where Tb is the duration of backoff of a ZigBee whose length is
20 symbol periods (= 320 μs) and Nsf = Tsf /Tb is the number
of backoff periods in a superframe.
(z )
Let uc be the ZigBee channel utilization observed at coordinator c. By using (6) and (7), we can obtain the average
backoff time for a ZigBee packet sent from ZigBee sensor m to

E. Adaptive Load Control Algorithm for Guaranteeing Delay
Requirements in ZigBee-Based WBANs
In this section, we propose an adaptive load control algorithm
to guarantee that the delay between a ZigBee sensor and a
coordinator is no longer than the maximally tolerable delay
Dm ax by using the analyses and traffic classification presented
previously. To detect WiFi interference, we first compute the
PER of a packet sent from ZigBee sensor m to coordinator c to
satisfy Dm ax . Setting W0 = 8 and X = 2 according to [2], (8)

226

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 20, NO. 1, JANUARY 2016

can then be rewritten as

(w )





Tbi − Tsf
Nsf



	
	
(z )
9 17 (z ) 33 (uc )2
+ uc +
.
×
)
2
2
2 1 − u(z
c

(b)
= Dw t + Tb +
Dc,m

(10)

The constraint for the maximum ZigBee delay, Dm ax , is
Dm ax ≥ Dc,m

)
∀m ∈ A(z
c

(11)

(z )

where Ac is a set of ZigBee nodes connected to coordinator
c. (9)–(11) give us the maximum allowable channel utilization
in the WiFi network for ZigBee node m (denoted as ũc,m ) such
that the ZigBee delay does not exceed Dm ax . Therefore, the
maximum allowable WiFi channel utilization at coordinator c is
given as
ũc = min {ũc,m }.
(z )

(12)

m ∈A c

Algorithm 1 Guarantee of the Delay Requirement in a
ZigBee Coordinator
(w )

1: Nc = 1, uc = 0, BU SY = f alse, tD = 0
2: while (BU SY is f alse) or (Current_time() < tD ) do
(w )
3: The coordinator monitors the channel to get uc
4: if BU SY is f alse then
(w )
5:
if uc > ũc then
6:
BU SY = true
7:
tD = Current time() + Dzm ax
(w )
8:
sum = uc
9:
Nc = 1
10:
end if
11: else
12:
N c = Nc + 1
(w )
13:
sum = sum + uc
14:
if (sum/Nc ) < ũc then
15:
BU SY = f alse
16:
end if
17: end if
18: end while
19: Send ũc and the MAC address list of the WiFi nodes
(w )
(w )
∈ Ac sorted in descending order of their Pc,j to the
AP
(w )

As shown in Algorithm 1, the coordinator monitors uc so
as not to exceed ũc according to the following procedure:
(w )
1) The related parameters are initialized as follows: uc = 0
and ũc is set by (12). We introduce two new parameters:
a BU SY flag to indicate whether the channel is busy
and tD to guarantee Dm ax . We set BU SY = f alse and
tD = 0.
2) Coordinator c monitors the channel to observe the current
channel utilization and the received signal strength from
each WiFi node. If BU SY = f alse, then

a) If uc > ũc , the coordinator sets BU SY = true
and tD = Current time() + Dm ax , and the total uti(w )
lization to sum = uc .
b) Otherwise, the coordinator increments the number
of observations, Nc , and computes sum = sum +
(w )
uc . Then, if the average channel utilization
sum/Nc is smaller than the maximum allowable utilization ũc , the coordinator sets BU SY = f alse.
3) If BU SY = true and Current_time() ≥ tD , the coordinator sorts the MAC address list of the WiFi nodes in
descending order of received signal strength observed at
(w )
coordinator c, Pc,j . Then, the coordinator sends the list
and ũc to the AP.

Algorithm 2 Adaptive Load Control in an AP
1: Receive ũc and the MAC address list from coordinator c
(w )
2: ua = 0
(w )
3: for ∀j ∈ Ac do
(w )
(w )
(w )
4:
ua = ua + uj
5: end for
(w )
6: while ua > ũc do
7:
Search the next node j generating NRT traffic from
the top of the MAC address list
8:
Send a control message to the identified node and
remove it from the list
(w )
(w )
(w )
9:
ua = ua − uj
10: end while

Upon receiving a message including ũc and the MAC addresses from coordinator c, the AP performs the following procedure (see Algorithm 2):
1) The AP sums the channel utilization of WiFi node j ∈
(w )
(w )
(w )
Ac , uj (denoted as ua ), the type of WiFi traffic
being determined with the use of traffic classification.
(w )
2) If ua > ũc , the AP conducts a search to identify the node
generating NRT traffic from the top of the MAC address
list. The AP then sends a control message to the identified
node and removes it from the list, and the AP updates
(w )
ua by subtracting the utilization of the throttled node.
(w )
If, after the update, ua > ũc , the AP finds the next node
from the list and sends a control message to make it delay
(w )
its transmissions. This process continues until ua ≤ ũc .
3) Every node that receives a control message from the AP
starts a timer that expires after Tc seconds and delays NRT
data transmission until the timer expires.

IV. PERFORMANCE EVALUATION
We evaluate the performance of our algorithm in ZigBeebased WBAN/WiFi coexistence environments in terms of the
transmission delay of ZigBee packets from a ZigBee sensor to
a coordinator.

KIM et al.: COEXISTENCE OF ZIGBEE-BASED WBAN AND WIFI FOR HEALTH TELEMONITORING SYSTEMS

227

TABLE I
PARAMETER VALUES FOR SIMULATION
Parameter
Tb i
Tb
TC C A
TA C K
P n o ise
W0

Value

Parameter

Value

30 ms
320 μs
640 μs
352 μs
−90 dBm
8

Ts f
L
TS IF S

30 ms
48 B
10 μs
864 μs
500 ms
32

TA C K , T O
Tc
W X (X = 2)

A. Simulation Environment
We developed a discrete event-driven simulator to demonstrate the effectiveness of our adaptive load control algorithm in
ZigBee-based WBAN/WiFi coexistence environments [9], [11],
and compared the transmission delay of the algorithm with that
of a bridge-based scheme [9] referred to as “Bridging,” which
assumes basically no WiFi interference.
The simulation area considered is a small apartment with “a
living space of 62 square meters” [20]. In the simulation area,
we place one AP in the center and two WiFi nodes (e.g., laptop
or smartphone) at random distances (i.e., 1–10 m) from it. The
WiFi network operates with a data rate of 11 Mb/s. We use the
Friss free space propagation model with a path-loss exponent
of 2.
The ZigBee-based WBAN operates with a data rate of
250 Kb/s. We place one ZigBee coordinator at a location 10
m away from the AP with ZigBee-based medical sensors (i.e.,
EKG and EEG) each located at distance of one meter from
the coordinator [12], [13]. The carrier sensing threshold for the
WiFi network and the ZigBee-based WBAN are set to −70 and
−75 dBm, respectively. Table I summarizes the default values
of the parameters used in the simulation [2], [21], [22].
We simulated two cases with two types of WiFi traffic generation models. In Case 1, one WiFi node generates RT traffic
and another generates NRT traffic. In Case 2, all the WiFi nodes
generate NRT traffic. The traffic models are as follows:
1) Traffic Model-I: WiFi traffic is artificially generated at the
WiFi node. The traffic flow is characterized by its packet
arrival pattern and payload statistics (i.e., mean packet
length).
a) RT Traffic: “Following the behavior of standard
pulse-code modulation codecs (e.g., G.711), voice
sources generate one 80-B packet every 10 ms” [23].
b) NRT Traffic: NRT traffic arrives from the upper
layer as a Poisson sequence, with exponentially distributed packet lengths [23]. The mean frame payload size is 1024 B, and the average rate is 20 Kb/s.
2) Traffic Model-II: This model uses the testing sets. Application is randomly chosen among the applications selected
in Section III according to the simulation case.
We set the transmission rates of the EKG and EEG sensors to
64 and 80 kb/s based on the sampling data, for which the sensors
were sampled at 1000 Hz with two electrodes and at 500 Hz with
five electrodes for EKG and EEG, respectively [24]–[26]. We
estimate the transmission delay for a ZigBee packet only from

Fig. 2. Transmission delay of each ZigBee packet from EKG and EEG sensors
in Case 1 when traffic Model-I is used. (a) Bridging. (b) Proposed.

a ZigBee sensor to a coordinator. In the simulation, we set the
constraint for the maximum ZigBee delay Dm ax to 100 ms,
since IEEE 802.15.6 specifies that an emergency alarm should
be triggered in less than 1 s [1].
Before applying our traffic classification to the AP, we performed an experiment to evaluate the overall accuracy, which is
in terms of the ratio of the sum of all correctly classified frames
to the sum of all frames in the testing sets. As inputs, we used
the five serial frames [27]. We varied the size of dataset per application from 1000 to 10 000 (in frames) in the experiment. We
found that the accuracy increases until it reaches a maximum of
96.22% at which the size of dataset is 5000. In order to attain
the maximum accuracy, we set the size of dataset to 5000 in our
traffic classification.
B. Simulation Results
We demonstrate that the delay performance for the ZigBeebased WBAN is guaranteed by the proposed algorithm. Fig. 2
plots the transmission delay experienced by ZigBee packets
from each medical sensor to the coordinator in Case 1 when
traffic Model-I is used. It can be seen from Fig. 2 that the
maximally tolerable delay requirement is guaranteed by the
proposed algorithm for all packets sent from the two ZigBeebased medical sensors, in contrast to the bridging approach, in
which a delay of about 70% packets exceeds Dm ax for both
medical sensors. We can also observe from Fig. 3 that in Case 2,
the proposed algorithm meets the delay requirement for the
ZigBee-based WBAN, whereas delays of 89.3% and 88.8%
packets exceed Dm ax in the bridging approach.
Fig. 4 plots the transmission delay experienced by a packet
from each medical sensor to the coordinator in Case 1 when
traffic Model-II is used. It can be observed that the maximally

228

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 20, NO. 1, JANUARY 2016

Fig. 3. Transmission delay of each ZigBee packet from EKG and EEG sensors
in Case 2 when traffic Model-I is used. (a) Bridging. (b) Proposed.

Fig. 4. Transmission delay for each ZigBee packet from EKG and EEG sensors in Case 1 when traffic Model-II is used. (a) Bridging. (b) Proposed.

tolerable delay requirement is guaranteed by the proposed algorithm, whereas in the bridging approach, delays of about 48.1%
packets exceed Dm ax for both ZigBee sensors. We also can see
from Fig. 5 that in Case 2, the proposed algorithm meets the
delay requirement for the ZigBee-based WBAN, whereas delays of 24.1% and 24.7% packets exceed Dm ax in the bridging
approach.
When traffic Model-I is used in the proposed algorithm, the
highest ZigBee transmission delays are 39 and 64 ms for all

Fig. 5. Transmission delay for each ZigBee packet from EKG and EEG sensors in Case 2 when traffic Model-II is used. (a) Bridging. (b) Proposed.

the medical sensors in Cases 1 and 2, respectively. For traffic
Model-II, the highest ZigBee transmission delays are 67 and
68 ms for the EKG and EEG sensors of Case 1, respectively,
and 78 and 77 ms for the EKG and EEG sensors of Case 2,
respectively. Thus, we can see from Figs. 2–5 that the maximally
tolerable delay requirement can be guaranteed by the proposed
algorithm.
To see the effects of considering the patient’s mobility on
the performance of our algorithm and the bridging approach,
we compare the performance of the two approaches. In the
simulation environment described previously, we add one AP
that has an overlapping area with the existing AP and employ
the “Levy walk (LW) mobility model” to reflect “the patterns
of human walks” [28]. In the LW model, “the patient’s steps
represent a flight followed by a pause.” In the simulation, the
flight lengths and pause times are truncated to [1, 50] m and
[1, 100] s, respectively, following “the truncated Levy distribution” [28].
Figs. 6 and 7 show the cumulative distribution function (CDF)
of transmission delay for EKG and EEG sensors when traffic
Model-I and traffic Model-II are used with the patient’s mobility. We can see from Fig. 6 that the transmission delay of our
algorithm for EKG sensors remains within an acceptable limit of
less than 0.1 s for all cases, in contrast to the bridging approach,
which yields average delays of about 14.6% and 26.2% packets, exceeding Dm ax for traffic Model-I and traffic Model-II,
respectively. We can see from Fig. 7 that the CDF of transmission delay for EEG sensors shows almost the same behavior as
that of the EKG sensors for both cases when traffic Model-I
and traffic Model-II are used. In the bridging approach, average delays of about 14.73% and 25.8% packets exceed Dm ax
for traffic Model-I and traffic Model-II, respectively. This is because the patient moves and the distance between the AP and the

KIM et al.: COEXISTENCE OF ZIGBEE-BASED WBAN AND WIFI FOR HEALTH TELEMONITORING SYSTEMS

229

Fig. 8. Transmission delay of NRT and RT traffic in Case 1 when traffic
Model-II is used.

Fig. 6. CDF of transmission delay for EKG sensors when traffic Model-I and
traffic Model-II are used with the patient’s mobility.

interference. To solve this problem, we have proposed an adaptive load control algorithm that controls only the WiFi traffic
generated from delay-tolerant applications dynamically with the
aim of guaranteeing that the delays experienced by ZigBee sensors do not exceed the maximally tolerable delay period. We
have also analyzed the PER in ZigBee-based WBAN/WiFi coexistence networks and the delay from a ZigBee sensor to the
coordinator while considering the effects of interference from
the ZigBee network and other WiFi networks. In addition, the
traffic classification is presented to classify applications. We
have demonstrated via simulation results that the proposed algorithm guarantees the delay requirement for ZigBee sensors.
REFERENCES

Fig. 7. CDF of transmission delay for EEG sensors when traffic Model-I and
traffic Model-II are used with the patient’s mobility.

coordinator is varied. More specifically, the proposed algorithm
provides reliable transmissions for the ZigBee-based WBAN
even when the distance is small and the WiFi interference becomes high, in contrast to the bridging approach, in which
delays are affected by distance. Finally, we can see that, in
comparison to legacy ZigBee-based WBAN/WiFi coexistence
environments, the proposed algorithm guarantees the maximally
tolerable delay requirement for ZigBee communications by performing adaptive load control in the WiFi network.
As shown in Fig. 8, to see the effects of our adaptive load
control algorithm with NRT and RT traffic, we measure the
transmission delay of BitTorrent and PPLive traffic in Case 1
when traffic Model-II is used. It can be observed that the delay limits of 5 s for NRT applications and of 400 ms for RT
applications [16] are guaranteed. It indicates that our algorithm
does not disturb the reliable transmissions for both NRT and RT
traffic.
V. CONCLUSION
In ZigBee-based WBANs with coexisting WiFi networks,
most ZigBee channels overlap with IEEE 802.11 WiFi channels, resulting in increased delays for ZigBee packets due to

[1] IEEE Standard for Local and Metropolitan Area Networks, Part 15.6:
Wireless Body Area Networks, IEEE 802.15.6-2012, Feb. 2012.
[2] Wireless Medium Access Control (MAC) and Physical Layer (PHY) Specifications for Low-Rate Wireless Personal Area Networks (WPANs), IEEE
802.15.4a-2007, Part 15.4, 2007.
[3] X. Zhang and K. G. Shin, “Cooperative carrier signaling: Harmonizing coexisting WPAN and WLAN devices,” IEEE Trans. Netw., vol. 21,
no. 2, pp. 426–439, Apr. 2013.
[4] Z. Zhao, G. H. Yang, Q. Liu, V. O. K. Li, and L. Cui, “Implementation
and application of a multi-radio wireless sensor networks testbed,” IET
Wireless Sensor Syst., vol. 1, no. 4, pp. 191–199, Dec. 2011.
[5] C. Won, J. Youn, H. Ali, H. Sharif, and J. Deogun, “Adaptive radio channel
allocation for supporting coexistence of 802.15.4 and 802.11b,” in Proc.
IEEE Veh. Technol. Conf., 2005, pp. 2522–2526.
[6] P. Yi, A. Iwayemi, and C. Zhou, “Developing zigbee deployment guideline
under WiFi interference for smart grid applications,” IEEE Trans. Smart
Grid, vol. 2, no. 1, pp. 110–120, Mar. 2011.
[7] J. Kim and Y. Kwon, “Interference-aware topology control for low
rate wireless personal area networks,” IEEE Trans. Consumer Electron.,
vol. 55, no. 1, pp. 97–104, Feb. 2009.
[8] R. Francisco, L. Huang, and G. Dolmans, “Coexistence of WBAN and
WLAN in medical environments,” in Proc. IEEE Veh. Technol. Conf.,
2009, pp. 1–5.
[9] J. Misic and V. B. Misic, “Bridging between IEEE 802.15.4 and IEEE
802.11b networks for multiparameter healthcare sensing,” IEEE J. Sel.
Areas Commun., vol. 27, no. 4, pp. 435–449, May 2009.
[10] J. Misic and V. B. Misic, “Bridge performance in a multitier wireless
network for healthcare monitoring,” IEEE Wireless Commun., vol. 17,
no. 1, pp. 90–95, Feb. 2010.
[11] S. Rashwand and J. Misic, “Two-tier WBAN/WLAN healthcare networks;
priority considerations,” in Proc. IEEE Global Telecommun. Conf., 2012,
pp. 5398–5403.
[12] M. N. Deylami and E. Jovanov, “A distributed scheme to manage the dynamic coexistence of IEEE 802.15.4-based health-monitoring WBANs,”
IEEE J. Biomed. Health Informat., vol. 18, no. 1, pp. 327–334, Jan. 2014.
[13] N. Torabi and V. C. M. Leung, “Realization of public M-health service in
license-free spectrum,” IEEE J. Biomed. Health Informat., vol. 17, no. 1,
pp. 19–29, Jan. 2013.

230

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 20, NO. 1, JANUARY 2016

[14] N. Torabi and V. C. M. Leung, “Cross-Layer design for prompt and reliable transmissions over body area networks,” IEEE J. Biomed. Health
Informat., vol. 18, no. 4, pp. 1303–1316, Jul. 2014.
[15] ITU-T recommendation G.1010: End-user multimedia QoS categories.
(2001, Nov.). [Online]. Available: http://www.itu-t.org
[16] Z. Yuan and G.-M. Muntean, “A prioritized adaptive scheme for multimedia services over IEEE 802.11 WLANs,” IEEE Trans. Netw. Service
Manage., vol. 10, no. 4, pp. 340–355, Dec. 2013.
[17] S. Shin, H. Park, S. Choi, and W. Kwon, “Packet error rate analysis of
zigbee under WLAN and bluetooth interferences,” IEEE Trans. Wireless
Commun., vol. 6, no. 8, pp. 2825–2830, Aug. 2007.
[18] Wireshark.
(2013,
Oct.
28).
[Online].
Available:
http://www.wireshark.org/
[19] T. Auld, A. W. Moore, and S. F. Gull, “Bayesian neural networks for
internet traffic classification,” IEEE Trans. Neural Netw., vol. 18, no. 1,
pp. 223–239, Jan. 2007.
[20] N. Langhammer and R. Kays, “Performance evaluation of wireless home
automation networks in indoor scenarios,” IEEE Trans. Smart Grid,
vol. 3, no. 4, pp. 2252–2261, Dec. 2012.
[21] Wireless LAN Medium Access Control (MAC) and Physical Layer (PHY)
Specifications, IEEE 802.11, Apr. 2012.
[22] C. Buratti, “Performance analysis of IEEE 802.15.4 beacon-enabled
mode,” IEEE Trans. Veh. Technol., vol. 59, no. 4, pp. 2031–2045,
May 2010.
[23] P. Serrano, A. Banchs, P. Patras, and A. Azcorra, “Optimal configuration of
802.11e EDCA for real-time and data traffic,” IEEE Trans. Veh. Technol.,
vol. 59, no. 5, pp. 2511–2528, Jun. 2010.
[24] A. L. Goldberger, L. A. Amaral, L. Glass, J. M. Hausdorff, P. C. Ivanov,
R. G. Mark, J. E. Mietus, G. B. Moody, C. K. Peng, and H. E. Stanley,
“Physiobank, physiotoolkit, and physionet: Components of a new research
resource for complex physiologic signals,” Circulation, vol. 101, no. 23,
pp. E215–E220, Jun. 2000.
[25] PhysioNet. (2014, Nov. 28). [Online]. Available: http://physionet.org/
[26] National University of Sciences and Technology. (2014).
Project BCI: EEG motor activity data set [Online]. Available:
https://sites.google.com/site/projectbci/
[27] L. Bernaille, R. Teixeira, I. Akodkenou, A. Soule, and K. Salamatian,
“Traffic classification on the fly,” ACM SIGCOMM Comput. Commun.
Rev., vol. 36, no. 2, pp. 23–26, Apr. 2006.
[28] I. Rhee, M. Shin, S. Hong, K. Lee, S. J. Kim, and S. Chong,“On the
levy-walk nature of human mobility,”IEEE Trans. Netw., vol. 19, no. 3,
pp. 630–643, Jun. 2011.

Yena Kim received the B.S. degree in multimedia engineering and computer science from Dankook University, Cheonan, Korea, in 2008 and the M.S. degree
in computer science from Dankook University, Yongin, Korea, in 2010. She is currently working toward
the Ph.D. degree in the Department of Computer Science, Yonsei University, Seoul, Korea.
Her research interests include wireless communications and networking.

SeungSeob Lee received B.S. degree in computer science from Yonsei University, Seoul, Korea, in 2011.
He is currently working toward the Ph.D. degree in
the Department of Computer Science, Yonsei University, Seoul, Korea.
His research interests include analyzing and designing LTE/ LTE-Advanced system.

SuKyoung Lee received the B.S., M.S., and Ph.D.
degrees in computer science from Yonsei University,
Seoul, Korea, in 1992, 1995, and 2000, respectively.
From 2000 to 2003, she worked with the Advanced
Networking Technologies Division at the National Institute of Standards and Technology in Gaithersburg,
MD, USA. She is currently a Professor in the Department of Computer Science at Yonsei University,
Seoul, Korea. Her current research interests include
wireless and mobile networks.

