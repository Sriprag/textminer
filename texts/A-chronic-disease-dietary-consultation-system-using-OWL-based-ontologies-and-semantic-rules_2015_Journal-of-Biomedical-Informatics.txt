Journal of Biomedical Informatics 53 (2015) 208–219

Contents lists available at ScienceDirect

Journal of Biomedical Informatics
journal homepage: www.elsevier.com/locate/yjbin

A chronic disease dietary consultation system using OWL-based
ontologies and semantic rules
Yu-Liang Chi a,⇑, Tsang-Yao Chen a, Wan-Ting Tsai b
a
b

Department of Information Management, Chung Yuan Christian University, 200 Chung-Pei Rd., Chung Li 32023, Taiwan, ROC
Department of Management Information Systems, National Chengchi University, 64 Sec. 2 Zhinan Rd., Wenshan District, Taipei City 11605, Taiwan, ROC

a r t i c l e

i n f o

Article history:
Received 11 June 2014
Accepted 2 November 2014
Available online 11 November 2014
Keywords:
Chronic kidney diseases
Dietary control
Problem solving
Ontology
Semantic rules

a b s t r a c t
Chronic diseases patients often require constant dietary control that involves complicated interaction
among factors such as the illness stage, the patient’s physical condition, the patient’s activity level, the
amount of food intake, and key nutrient restrictions. This study aims to integrate multiple knowledge
sources for problem solving modeling and knowledge-based system (KBS) development. A chronic kidney
disease dietary consultation system is constructed by using Web Ontology Language (OWL) and Semantic
Web Rule Language (SWRL) to demonstrate how a KBS approach can achieve sound problem solving
modeling and effective knowledge inference. For system evaluation, information from 84 case patients
is used to evaluate the performance of the system in recommending appropriate food serving amounts
from different food groups for balanced key nutrient ingestion. The results show that, excluding interference factors, the OWL-based KBS can achieve accurate problem solving reasoning while maintaining
knowledge base shareability and extensibility.
Ó 2014 Elsevier Inc. All rights reserved.

1. Introduction
Chronic diseases are persistent illnesses that often require careful dietary management to delay progression and maintain the
patient’s quality of life. This study seeks to construct a general dietary consultation system for chronic disease patients. We chose
chronic kidney disease (CKD) as the research domain for problem
solving modeling and knowledge-based system (KBS) development. CKD patients suffer from deteriorating kidney functions
and the inability to process certain nutrients and therefore require
strict dietary control [1]. Traditional dietary consultation requires
dietitians to perform a series of steps to integrate various knowledge sources before giving dietary advice. These steps include:
(1) collecting patient physical profile and biomedical examination
data as baseline information; (2) calculating patient’s clinical CKD
stage, calorie requirements, key nutrient baselines, and suggested
servings from each food group; (3) comparing the patient’s actual
diet to the suggested servings for dietary adjustment. These
general steps involve many knowledge sources: the patient’s
conditions, illness progress, nutrition requirements, nutrient
restrictions, and food nutrition composition. With such knowledge
sources, the dietitian then considers the complicated logical
⇑ Corresponding author. Fax: +886 3 2655499.
E-mail address: maxchi@cycu.edu.tw (Y.-L. Chi).
http://dx.doi.org/10.1016/j.jbi.2014.11.001
1532-0464/Ó 2014 Elsevier Inc. All rights reserved.

relationships between the patient’s conditions and the various
knowledge-intensive sources in order to provide dietary guidance.
This study aims to construct a KBS for CKD dietary consultation.
The emphasis of the KBS development is to create the problem
solving mechanisms with inference capability. Knowledge models,
when extensively analyzed and defined, are robust and extensive
in knowledge inference. Also, new facts can be stored into existing
knowledge model, and the existing logical relationships are inherited for reasoning with no additional data processing required.
Therefore, KBSs are suitable for solving knowledge-intensive problems that require inference mechanisms. This study is a collaboration between dietitian practitioners and knowledge engineers. The
first task in knowledge engineering is to analyze, break down, and
reassemble knowledge content in order to extract the concepts and
data required for modeling. The main ontological KBS design components employed in this study include: (1) using open data and
domain knowledge to construct a domain ontology consisting of
common constructs, concepts, and instances with super-subordinates and inheritance using the ‘‘is-a” relationship; (2) to enable
problem solving, developing ‘‘has-a” properties to contain two
types of objects where one object (often called the composited
object) is a part or member of another object; and (3) defining
the problem solving steps in the instance layer with semantic rules
to infer implicit knowledge based on known facts. Although many
ontologies are available, most ontologies are no more than

209

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

taxonomies of classes. Without problem solving design, ontologies
only function as repositories rather than KBSs. For example, the
popular Web Ontology Language (OWL) data model (or schema)
only provides limited elements (such as class, attribute, and individual) and simple relationships (‘‘is-a” and ‘‘has-a”). It is therefore
difficult to model the problem solving processes (such as reasoning
mechanisms and business logics) based on the specifications. To
construct a knowledge model that is deployable, coherent, and
with the ability of interaction between roles and tasks would
require substantial artificial intelligence efforts.
The remainder of this article is arranged as follows: Section 2 is
a literature review that includes background knowledge of CKD,
diet and key nutrients, ontological engineering, and development
issues of building OWL-based KBSs; Section 3 describes the
research design and elaborates the problem analysis process
through the construction of the domain ontology and the task
ontology; Section 4 focuses on the development of semantic rules
for problem solving inference; Section 5 is an experiment that uses
information from 84 case patients to evaluate the effectiveness of
the KBS; Section 6 includes the conclusion and discussions.

Table 2
Key Nutrient Restrictions and CKD Clinical Stages.
Nutrient

Stage
1

Calorie
Protein
Phosphorus
Potassium
Sodium

2

3

BMR * activity level
0.75 g/kg (50% HBV protein)
7–12 mg/kg/day
4000 mg/day
2000–7000 mg/day (adjusted by

4

5

0.6 g/kg (50% HBV protein)
5–10 mg/kg/day
2000–4000 mg/day
patient conditions)

of chronic diseases [8]. In recent years, many studies have confirmed that medical nutrition therapy (MNT) can help CKD patients
maintain balanced nutrition intake and postpone or impede disease progression [2,5]. Meanwhile, various studies and organizations have suggested principles of nutrition management and
have reported empirical data of CKD nutrient restrictions. We integrated sources of nutrient intake baselines (Table 2) with data from
the National Institute of Health (NIH) web sites,1 the NKF Kidney
Disease Outcomes Quality Initiative (KDOQI),2 and a CKD Prevention
Handbook.3

2. Literature review

2.2. Diet and nutrition

2.1. Chronic kidney disease

CKD dietary management requires appropriate nutrition intake
from different food groups. In a survey on common food nutrients
by the Ministry of Health and Welfare of Taiwan, more than 1000
food items are analyzed and indexed to create the Taiwan Food
Nutrients Database.4 The food items are grouped into 18 categories,
and each food entry is analyzed for 23 nutrition values. Table 3
shows a partial example of the food nutrient entries from the
database.
The United States Department of Agriculture (USDA) suggests
general guidelines on daily food consumption from the MyPlate5
food groups: grains, protein foods, dairy, fruits, and vegetables with
the additional oil group. The Ministry of Health and Welfare of Taiwan directly adds ‘‘oil, nuts, and seeds” as the sixth group and suggests balanced daily servings from each food group. However,
because CKD patients need to restrict the intake of certain nutrients,
the suggested balanced diet servings need to be adjusted. Table 4
shows the modified intake servings suggested from each food group
by caloric requirements for CKD patients.

Chronic disease patients often need to closely monitor their
daily diet in order to control the illness progression, which requires
strict management of food intake in both quantity and types [2].
However, dietary management involves complicated interactions
among various factors. This complexity not only reduces the quality of dietary management, but can also consume medical
resources if the patients are to have constant dietary consultation.
As a result, chronic disease patients often do not receive enough
professional guidance in dietary control, which can lead to disease
progression, low life quality, and even malnutrition.
Chronic kidney disease (CKD) is a collective term denoting biomedical abnormalities of the kidneys. It is widespread and become
a worldwide public health issue [3]. CKD is usually associated with
diabetes, cardiovascular disease, hypertension, and obesity [4].
Such association further complicates the dietary control of CKD
patients. The function of the kidneys is to metabolize nitrogenous
waste (such as uric acid) in order to maintain the body’s balance of
minerals (sodium, potassium, phosphorus, etc.) and to assist in
blood pressure control and blood cell production [5]. When
impaired, the kidneys are unable to excrete nitrogenous wastes,
and the nitrogen retained in the blood can cause uremia. In serious
conditions, urinary excretion would decrease and thus reduce the
excretion of sodium and potassium ions.
The generally accepted operational definition of CKD is kidney
damage and the kidneys’ inability to filter blood as measured by
Glomerular Filtration Rate (GFR) [1]. The clinical CKD stages are
then defined by plotting the estimated GFR (eGFR) [6,7] as shown
in Table 1.
According to the report by the World Health Organization
(WHO), diet and nutrition are important modifiable determinants

Table 1
Definition of CKD clinical stages.
Stage

Description

GFR

1
2
3
4
5

Kidney damage with normal or increased GFR
Kidney damage with mild decrease in GFR
Moderate decrease in GFR
Severe decrease in GFR
Kidney failure

P90
60–89
30–59
15–29
<15

2.3. Ontological engineering and KBS
Ontology in philosophy is a discipline that studies the nature of
‘‘being” by inquiring how things exist. Ontology as a methodology
has been widely adopted in various fields of study to model and
construct taxonomies for domains of interest [9]. Over time, ontology is seen as a synonym of ‘‘conceptual model” [10]. In recent
decades, ontology has also been applied in information science
research, especially in the areas of artificial intelligence, in which
conceptual models are created with properties and relationships.
In KBSs, concepts are used not just as terms, but also as computable objects with logical definitions, which enable knowledge for
inductive and deductive reasoning [11].
Following the maturity of XML technologies, the ontology
research community has also adopted the markup language
approach to allow ontology reusability and shareability. The W3C
recommended the OWL as a formal specification for ontology
1
2
3
4
5

http://www.ncbi.nlm.nih.gov/pubmed/12081582.
https://www.kidney.org/professionals/kdoqi/guidelines_ckd/toc.htm.
http://www.tsn.org.tw/.
https://consumer.fda.gov.tw/Files/other/食品營養成份資料庫(新版).XLS.
http://www.choosemyplate.gov/

210

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219
Table 3
A partial view of the food nutrients database.
Food

Potato
Short ribs
Eggs
Carrot
Grapefruit

Nutrient
Calorie (kcal)

Protein (g)

Phosphorus (mg)

Potassium (mg)

Sodium (mg)



Iron (mg)

Zinc (mg)

81
390
142
38
33

2.7
11.7
12.1
1.1
0.7

48
151
185
52
17

300
186
123
290
60

5
65
135
79
7







0.5
1.6
1.8
0.4
0.1

0.7
5
1.2
0.3
0.1

Table 4
Suggested food group intakes in servings by calorie level.
Food group

Grains
Protein foods
Dairy
Vegetables
Fruits
Oil, nuts, and seeds

Calorie
1200 (Kcal)

1500 (Kcal)

1800 (Kcal)

2000 (Kcal)

2200 (Kcal)

2500 (Kcal)

2700 (Kcal)

1.5
3
1
3
2
4

1.5
3
1
3
2
4

3
3
1
3
2
5

3
4
1
4
2
6

3.5
4
1
4
2
6

4
4
1
4
2
7

4
4
1
4
2
8

representation [12]. In terms of development tools, Protégé is a
prevalent platform created by the Stanford Center for Biomedical
Informatics Research for OWL-based ontology development,
OWL-based problem solving modeling, and KBS execution [13].
In addition to conceptual representation of ontology, rule languages (e.g., Semantic Web Rule Language, SWRL) can be used to
develop rules in the instance layer of the ontology to enable reasoning using rule inference engines [14,15].
KBS development has been used for studying disease diagnosis
[16] and nutritional consultation. Because it involves strong
domain expertise and complicated relationships among knowledge
sources, which are the strengths of KBS inference. For example,
Abu-Hanna et al. [17] used Protégé in their development of medical terminological system (TS). The study indicated that the definition methods (conceptual framework, property, and logical
relationships) used in ontology engineering can effectively integrate medical terminologies for knowledge sharing with other
applications. Roventa and Rosu [18] used Prolog to develop an
expert system for kidney disease diagnosis providing probable
evaluation models to assist medical specialists making diagnosis
decision. Chen et al. [19] constructed a general dietary recommender system for chronic patients using Protégé for domain
ontology editing and JENA for inference to evaluate the nutritional
components of the patient’s diet. Lee et al. [20] developed a dietary
assessment system using fuzzy techniques and a domain ontology
with fuzzy set layer extension to evaluate diet healthiness.

ontologies in BioPortal6 and the OBO Foundry.7 However, without
contextualized problem solving design, ontologies only function as
hierarchical dictionaries for standard terminology interchange and
communication [28]. For example, as pointed out by Rosenbloom
et al. [29], the UMLS8 covers more than one million concepts and five
million synonyms; yet, the issue is not its completeness but how the
end users can be supported to use it.
As Breuker [26], Musen [30], and Motta [31] have stated, problem solving has not received due attention in contrast to its counterpart, domain knowledge. Problem solving is a process including
steps of problem identification, analysis, diagnosis, and proposal of
solution. Traditionally, problem solving is a major part of procedural knowledge and is the backbone of KBS [32]. Before the
Semantic Web era, the modeling of problem solving using task
knowledge to enable reasoning with domain knowledge has been
proposed and detailed for KBS development (e.g., [10,32–34]).
To take advantage of the vastly available domain knowledge,
Fernández-López et al. [35] have proposed methodological guidelines to adapt domain knowledge into domain ontology. Fürst
and Trichet [36] also proposed a scenario-based approach to integrate declarative knowledge into new domain ontologies. This
modeling transition step is necessary because the general ontologies are too declarative to be directly used in a KBS for problem
solving [26,38,39].

2.4. Issues in developing ontological KBSs

This study use ontological engineering for knowledge modeling.
An ontological knowledge model is an abstract structure of concepts, in which each concept has properties and relationships to
represent the knowledge connotations. A knowledge model can
therefore be seen as a schema for knowledge description. When
implementing such modeling, the concepts are constructed into
domain ontology to represent declarative knowledge and task
ontology to represent procedural knowledge to be inferred. The
facts (or instances) are then asserted into the schema to become
a knowledge base. Based on the guidelines proposed by researchers
[10,32,34–36], we propose four design elements for the modeling
of OWL-based KBS development:

In KBS research, knowledge comes in three types: domain
knowledge (schema and instances), task knowledge, and inference
knowledge [21]. This classification roughly corresponds to the cognitive psychology classification of knowledge: declarative knowledge vs. procedural knowledge, in which declarative (knowabout) knowledge describes domain’s factual entities, whereas
procedural (know-how) knowledge describes the task knowledge
and inference knowledge in the problem solving processes
[22–24]. Before the development of the World Wide Web, the
acquisition of domain knowledge used to be the bottleneck for
knowledge engineering, yet researchers now have an overflow of
domain knowledge available online [25]. These knowledge sources
are valuable to knowledge engineers and have greatly reduced
the effort of knowledge acquisition [26,27]; for example, the

3. Research design

6
7
8

National Center for Biomedical Ontology (http://bioportal.bioontology.org/).
The Open Biological and Biomedical Ontologies (http://www.obofoundry.org/).
The Unified Medical Language System (http://www.nlm.nih.gov/research/umls/).

211

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219
Table 5
Research roles and responsibilities in each research phase.
Phase

Role
Project leader

Initiation processes

Setup project meeting, research
goals, and milestones

Modeling
phase

Host modeling meetings

Domain
ontology

Task
ontology
Inference
rules
Development
OWLphase
based KBS
Webbased KBS
Experiment and evaluation
phase

Domain experts

Knowledge engineer

Physician

Dietitian

Validate of CKD
problem solving
method
Verify declarative
knowledge

Analyze problem scenarios and creating axioms

Verification of problem
solving

Verify the KBS

Verify experimental results

(1) Analyzing the problem scenarios: The three knowledge types
(domain knowledge, task knowledge, and inference knowledge) correspond respectively to domain ontology, task
ontology, and semantic rules in KBS. The analysis of problem
scenario would identify the tasks and the task knowledge
needed for problem solving with respect to the domain
knowledge.
(2) Modeling the domain ontology: Domain ontology is hierarchical declarative knowledge and may be obtained from Web
sources such as open data and published ontologies. While
mainly a hierarchical taxonomy, semantic elements such
as properties and instances are specified under the contained classes in the modeling process. In addition, a controlled vocabulary is often needed to include common
terms for the purpose of reference and communication.
(3) Modeling the task ontology: A task ontology outlines and
implements the problem solving, which defines the steps
to achieve a task and breaks a task into sub-tasks. In the
instance layer, a task ontology class contains asserted properties and inferred properties. Each inferred property corresponds with at least one axiom for implementing the
reasoning process.
(4) Developing semantic rules: Axioms act as a medium for transferring human expertise into machine understandings. In
KBS, there are two types of axioms: logical axioms and
non-logical axioms. Logical axioms are used to collect available known facts to infer implicit knowledge; while non-logical axioms are formulas such as arithmetic operations. The
axioms can be further programmed using semantic rules
such as the SWRL [37,40], which is similar to Prolog (hornlike logic programming) and is commonly used for building
inference mechanisms in OWL-based KBSs.
To carry out the KBS development in our study, major research
roles include: (1) one project leader with 5-year experience in
information system development; (2) two knowledge engineers
with 5-year experience in KBS development; and (3) three domain
experts (one physician specialized in CKD and two dietitians). The
research process can be divided into three phases including: (1)
modeling phase, in which the domain ontology, task ontology,
and inference rules were jointly constructed by the research team;
(2) development phases, in which the knowledge engineers developed the KBS; and (3) experiment and evaluation phase, in which
the system went through trial and evaluation by the domain

Suggest relevant
declarative knowledge
sources
Help identify tasks and
subtasks
Help to identify the steps
of semantic rules
Test inference mechanisms

Define domain ontology construct and
relevant instances
Define task ontology construct and
properties
Define semantic rules by subtasks

Edit ontology and semantic rules using
Protégé
Suggest the design of
Integrate OWL-based KBS and Jess rule
website flow
engine into server-based applications
Evaluate system performance using hospital patient records as experiment
testing data

experts. Specifically, the researcher roles and responsibilities in
each research phase are summarized as Table 5.
3.1. Analyzing the problem scenarios
The problem of chronic disease dietary management can be
generally understood as the interaction between a patient’s conditions and the related knowledge sources. As shown in Fig. 1, multiple knowledge sources are involved and interactions also exist
among the knowledge sources. Chronic disease knowledge, for
example, includes clinical stage definition, stage estimation equation, and nutrient restriction. Nutrient knowledge, as a concept,
includes at least food groups and the nutrient composition of each
food item. The food group includes the categorization of food items
and their recommended daily servings in different conditions. Case
patient data work as a trigger to interact with the knowledge
sources to create dietary suggestions.
To implement the problem scenarios analysis, one physician
specialized in CKD and two dietitians have participated as consultants for verifying knowledge sources and problem scenarios
from the beginning. The two knowledge engineers then formalized the problem solving into four major non-logical axioms as
follows:
(1) Calculating suggested food group servings by individual
conditions
As indicated in Table 4, the matrix consists of calorie values
(seven levels) and food group types (six groups). Eq. (1) is the general equation for the suggested servings FG(p,i,s) in food groups by
case (p), calorie level (i), and CKD stage (s) to find the suggested
corresponding servings in each food group.

FGðp;i;sÞ ¼ ðSgrains ; Smeat ; Smilk ; Sv egetables ; Sfruits ; Soil&nuts Þ

ð1Þ

(2) Calculating suggested key nutrient intakes by individual
conditions
CKD patients require sufficient calories, but have to restrict the
intake of certain key nutrients: proteins, phosphorus, potassium,
and sodium. Eq. (2) is a general equation for calculating the
patient’s suggested key nutrient intakes. The equation calculates
CKD clinical stages against key nutrient intakes to obtain base values of key nutrients. A protein is weighted by the weight of the
case (wp).

212

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

Fig. 1. Problem solving of chronic disease dietary.

NRp ¼ ðnstage;Calories ;nstage;Protein  wp ;nstage;Phosphorus ;nstage;Potassium ;nstage;Sodium Þ
¼ ðNCalories ;NProtein ;N Phosphorus ;NPotassium ;NSodium Þ
ð2Þ
(3) Examining suggested food group servings against a patient’s
food combination
Eq. (3) examines the differences in food group servings between
the case patient’s food combination and the suggested values in Eq.
(1). For example, f(i,grains,servings) denotes the number of grain servings in food item i.

1
n
X
ðf
Þ  Sgrains ;
C
B
C
B i¼1 i;grains;serv ings
C
B
C
BX
n
C
B
C
B
ðf
Þ

S
meat ;
i;meat;ser
v
ings
C
B
C
B i¼1
C
B n
C
BX
C
B
ðf
Þ

S
;
v egetables C
i;v egetables;ser v ings
B
C
B i¼1
C
B
¼B n
C
X
C
B
C
B
ðf i;milk;serv ings Þ  Smilk ;
C
B
i¼1
C
B
C
BX
n
C
B
C
B
ðf
Þ

S
;
fruits
i;fruit;ser
v
ings
C
B
C
B i¼1
C
B
n
C
BX
A
@
ðf
ÞS
0

Caseðp;food

groupÞ

i;oil&nuts;ser v ings

ð3Þ

oil&nuts

i¼1

(4) Examining suggested key nutrient intakes against a patient’s
food combination
The examination of key nutrient compositions is as indicated by
Eq. (4), which calculates the difference of key nutrient intake
between the patient’s food combination and the suggested key
nutrient intakes from Eq. (2). For example, f(i,Calories) denotes the calorie intake per serving of food item i. The value is then multiplied by
the number of intake servings (si) to obtain the total calories, and
then subtracted by the suggested NCalories to calculate the difference.

Caseðp;nutrientsÞ

1
0X
n

ðf
s
Þ

N
;
i
Calories
i;Calories
C
B
C
B i¼1
C
B
n
C
BX
C
B

ðf
si Þ  NProein ;
C
B
C
B i¼1 i;Protein
C
B
C
BX
n
C
B

B
ðf i;Phosphorus si Þ  NPhosphorus ; C
¼B
C
C
B i¼1
C
B n
C
BX
C
B

ðf
s
Þ

N
;
Potassium
C
B
i;Potassium i
C
B i¼1
C
B
C
BX
n
A
@

ðf i;Sodium si Þ  NSodium
i¼1

ð4Þ

3.2. Modeling the domain ontology
A domain ontology consists of a general conceptual structure
and instances using an ‘‘is-a” to establish the subsumption relationships. The terminal concepts are elaborated by asserting
instances. Therefore, a domain ontology is a taxonomy that does
not aim for solving specific problems, but is rather a common
understanding of the domain for ontological sharing and reuse.
Based on the analysis in Section 3.1, we constructed a set of common terminologies into controlled vocabulary. From the background information in Section 2, the domain knowledge of CKD
and food items is used as initial concepts. In order to transfer this
knowledge into an OWL-based ontology, the Protégé is used to create the classes, properties, and instances. The central part of Fig. 2
shows the top-level concepts of the domain ontology. The child
concepts and grandchild concepts are filled with constituent
instances (see Fig. 2A-1). Each instance can have its own internal
property description (e.g., Fig. 2A-1-1). The concepts included are
as follows:
(1) Controlled vocabulary: The controlled vocabulary includes
three sub-concepts. Under each concept, the common terms
are listed to provide reference and indexing for communication with other concepts and instances.
 Activity_Level: This concept establishes five activity
levels as instances and defines the corresponding
values, for example, ‘‘Light Activity,” coefficient value
1.375.
 Calorie_Level: This concept classifies calorie requirements ranging from 1,200 to 2,700 Cal with seven
instances established.
 Food_Groups: This concept includes the six food groups
as standard vocabulary.
(2) CKD Knowledge: This knowledge source includes three subconcepts through the definition of the CKD clinical stages
and the nutrient restrictions of each stage.
 Dietary_Servings: Following Table 4, this concept
includes calorie levels (has_Calorie_Level) and the values
of the suggested servings in the six food groups
(has_Grains_Serving, has_Protein_Serving, has_Dairy_Serving, has_Fruits_Serving, has_Vegetables_Serving, and
has_Oil_Serving) (e.g., Fig. 2B1 and B1-1).
 Nutrient_Limitation: Following Table 2, this concept
defines baseline nutrient values as properties by CKD
clinical stage. Each stage includes four key nutrient
restrictions: has_Protein_Limitation, has_Phosphorus_Limitation, has_Potassium_Limitation, and has_Sodium_Limitation (e.g., Fig. 2C-1-1).

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

213

Fig. 2. Developing domain ontology construct and instances using protégé.

 Stage_Definition: Following Table 1, this concept defines
three CKD clinical stages (has_Stage), a lower bound of
eGFR (has_eGFR_min), and an upper bound of eGFR
(has_eGFR_max) (e.g., Fig. 2: A-1-1).
(3) Nutrient compositions: This knowledge source includes six
sub-concepts corresponding to Grains, Protein Foods, Dairy,
Vegetables, Fruits, and Oils. The food nutrient compositions
is acquired as open data from government and professional
organizations. However, these open data needed to be analyzed, re-organized, and transformed into OWL-based ontology. In Section 5.1 we describe how we performed this open
data transformation.
3.3. Construction of task ontology
A task ontology is for enumerating and represent specific
problems to be solved. In addition to constructing the conceptual
structure, the concepts’ constituent properties also need to be
planned in order to describe the problem solving knowledge
framework. To define the details of the OWL-based properties,
the property values of known facts or unknown knowledge
are first defined to separate asserted properties from inferred
properties. Next, the corresponding domain and range of the
properties are asserted. If a range uses basic data type, it is a
data property; whereas if a range uses instances, it is an object
property.
Six major concepts are designed under the task ontology,
including ‘‘Personal Profile,” ‘‘Personal Nutrient Count,” ‘‘Personal
Dietary,” ‘‘Diet Examination,” ‘‘Food Selection,” and ‘‘CSV Data” as
described below:

(1) Personal profile: A total of 11 properties are designed. Seven
asserted properties are name, gender, age, height, weight,
activity level, and creatinine value. Four inferred properties
are CKD clinical stage, eGFR value, calorie requirement,
and calorie level. All inferred properties are designed as
tasks (mapped to Rule-1 through Rule-6 as seen in Table 6).
(2) Personal nutrient count: Five properties are designed, including four inferred properties designed to annotate the suggested values of proteins, phosphorus, potassium, and
sodium (mapped to Rule-7 through Rule-10).
(3) Personal dietary: Eight properties are designed. Two asserted
properties are case name and food intake. Six inferred properties are designed to infer the balanced food group servings
(mapped to Rule-11 through Rule-16 as seen in Table 6).
(4) CSV data: Two grandchild concepts of ‘‘Nutrition” and ‘‘Serving” are designed to provide the basis for evaluating the
nutrients and food groups of food intake. Properties are
reserved for storing the results from executing Rule-17 and
Rule-18. The properties of each concept are as seen in
Table 6.
(5) Diet examination: Three properties are designed, including
one asserted property of case name and two inferred properties for nutrient examination and food group serving examination. The examination of proper servings is mapped to
Rule-19 through Rule-24. The examination of proper nutrients is mapped to Rule-25 through Rule-29, as seen in
Table 6.
(6) Food selection: Six grandchild concepts are designed. Within
each concept, three asserted properties of food name, food
group, and servings are designed.

214

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

Table 6
Definition of Concepts in the Task Ontology.
Concept

Attribute definition

Personal Profile

Personal Nutrient Count

Personal Dietary

CSV Data

Nutrition

Serving

Diet Examination

Food Selection

Grains, Daily,
...
Vegetable

Attribute name

Type

Range

has_Name
has_Gender
has_Age
has_Height
has_Weight
has_Cr
has_Activity
has_ Stage
has _eGFR
has_Requisite_Calorie
has_Calorie_Level
has_Case_Name
has_Protein_Limitation
has_Phosphorus_Limitation
has_Potassium_Limitation
has_Sodium_Limitation
has_Case_Name
has_Intake_Food
has_Grain_Servings
has_Protein-Food_Servings
has_Diary_Servings
has_Vegetable_Servings
has_Fruit_Servings
has_Oil_Servings
CSV_NAME
CSV_CALORIE
CSV_ PROTEIN
CSV_ PHOSPHOROUS
CSV_ POTASSIUM
CSV_SODIUM
CSV_NAME
CSV_FOOD_GROUP
CSV_SERVINGS
has_Case_Name
has_Examine-on_servings
has_Examine-on-nutrition
has_Food_Group
has_Food
has_Servings

Asserted
Asserted
Asserted
Asserted
Asserted
Asserted
Asserted
Inferred
Inferred
Inferred
Inferred
Asserted
Inferred
Inferred
Inferred
Inferred
Asserted
Asserted
Inferred
Inferred
Inferred
Inferred
Inferred
Inferred
Inferred

(string)
(string)
(int)
(float)
(float)
(float)
Activity_Level
Stage_Definition
(float)
(float)
Calorie_Level
Personal_Profile
(float)
(float)
(float)
(float)
Personal_Profile
Food_Selection
(float)
(float)
(float)
(float)
(float)
(float)
(string)
(float)
(float)
(float)
(float)
(float)
(string)
(float)
(float)
Personal_Profile
(string)
(string)
Food_Groups
Nutrient_Compositions
(float)

4. Development of semantic rules
In the task ontology detailed in Table 6, 18 inferred properties
are designed as sub-tasks. These properties require semantic rules
to combine related facts for inference. Before creating semantic
rules, we collect the practical problem solving experiences, and
then use the ‘‘premise ? conclusion” logic form to describe the
problem solving process [41]. The analysis of semantic rules starts
with the concept in which the property belongs, and then chains
the concept to other facts in a step-by-step manner until the objective is achieved. Each step is expressed as an atom and the rule is
expressed in the form of ‘‘(atom1^. . . ^ atomn) ? Consequence” to
express the cause-effect relationship.
For example, the steps for evaluating a CKD patient’s clinical
stage (has_stage) requires the steps from obtaining the eGFR value
to referring to the maximum and minimum values of the CKD clinical stages to acquire proper stage values. The steps can be
expressed as an SWRL-based rule (Rule-1) as follows:
Personal_Profile (?x) ^ has_eGFR (?x, ?y)
^ Stage_Definition (?s) ^ has_eGFR_min (?s, ?b)
^ has_eGFR_max (?s, ?c) ^ swrlb:greaterThanOr
Equal (?y, ?b) ^ swrlb:lessThanOrEqual (?y, ?c)
? has_Stage (?x, ?s)

Rule-1

Inferred

Asserted
Inferred
Inferred
Asserted

Rules

Rule-1
Rule-2 and 3
Rule-4 and 5
Rule-6
Rule-7
Rule-8
Rule-9
Rule-10

Rule-11
Rule-12
Rule-13
Rule-14
Rule-15
Rule-16
Rule-17

Rule-18

Rule-19–24
Rule-25–29

In total, this study developed 29 semantic rules under the three
concepts of ‘‘Personal Profile,” ‘‘Personal Dietary,” and ‘‘Personal
Nutrient Count”.
(1) Semantic rules under the concept of ‘‘Personal Profile”
 Calculating GFR (has_eGFR): In the calculation of eGFR, the
Modification of Diet in Renal Disease (MDRD) equation is
widely adopted by organizations such as the United States
NKF. Eq. (5) uses age, serum creatinine (Scr), and gender to
estimate GFR:

eGFRðmaleÞ ¼ 186  Scr 1:154  Age0:203
eGFRðfemaleÞ ¼ 186  Scr1:154  Age0:203  0:742

ð5Þ

Rule-2 and Rule-3 are developed following Eq. (5). The example
below uses Rule-2 to infer a male patient’s eGFR.
Personal_Data (?x) ^ has_Cr (?x, ?y) ^ has_Age
(?x, ?z) ^ has_Gender (?x, ‘‘Male”) ^ swrlb:pow
(?a, ?y, -1.154) ^ swrlb:pow (?b, ?z, -0.203)
^ swrlb:multiply (?c, ?a, ?b) ^ swrlb:multiply
(?d, ?c, 175) ^ swrlb:multiply (?M_ans, ?d, 0.742)
? has_eGFR (?x, ?M_ans)

Rule-2

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

 Inferring calorie requirement: Eq. (6), the basal metabolic
rate (BMR) equation, is used to estimate the baseline calorie requirement.

BMRðmaleÞ ¼ ð13:7  Weightkg Þ þ ð5:0  Heightcm Þ  ð6:8  AgeÞ þ 66
BRM ðfemaleÞ ¼ ð9:6  Weightkg Þ þ ð1:8  Heightcm Þ  ð4:7  AgeÞ þ 665
ð6Þ
The actual calorie requirement is obtained by multiplying the
BMR value to the activity level factors. The factors are: sedentary
(1.2), lightly active (1.375), moderately active (1.55), very active
(1.725), and extra active (1.9). The example below (Rule-4) is for
the calculation of male caloric requirement:
Personal_Profile (?x) ^ has_Weight (?x, ?w)
^ has_Height (?x, ?h) ^ has_Age (?x, ?a)
^ has_Gender (?x, ‘‘Male”) ^ has_Activity (?x, ?z)
^ has_Coefficient (?z, ?c) ^ swrlb:multiply (?a1, ?w,
13.7) ^ swrlb:multiply (?a2, ?h, 5) ^ swrlb:multiply
(?a3, ?a, 6.8) ^ swrlb:add (?ans1, ?a1, 66) ^ swrlb:
add (?ans2, ?ans1, ?a2) ^ swrlb:subtract (?ans3,
?ans2, ?a3) ^ swrlb:multiply (?C_Male, ?ans3, ?c)
? has_Requisite_Calorie (?x, ?C_Male)

Rule-4

 Inferring suggested key nutrient intakes: Rule-7 to Rule-10
are respectively developed to infer four suggested key
nutrient intakes as designed in Eq. (2). The example below
is for inferring proteins intake suggestion. The rules for
other key nutrient suggestions can be created in the same
manner.
Personal_Nutrient_Count (?x) ^ has_Case_Name
(?x, ?n) ^ has_Weight (?n, ?w) ^ has_Stage
(?n, ?s) ^ Nutient_Limitation(?y)^ has_Stage(?y, ?s)
^ has_Protein_Limitation (?y, ?p) ^ swrlb:multiply
(?ans, ?p, ?w) ? has_Protein_Limitation
(?x, ?ans)

Rule-7

(2) Semantic rules under the concept of ‘‘Personal Dietary”
These rules evaluate a case patient’s suggested servings from
the food groups. The values of clinical stage and calorie requirement level from Rule-1 and Rule-4 are needed for the inference.
Rule-11 to Rule-16 are respectively developed to infer six suggested food group servings as designed in Eq. (1). Rule-11 below
infers grains servings. Rules for other suggested food group servings can be created in the same manner.
Personal_Dietary (?x) ^ has_Case_Name (?x, ?p)
^ has_Stage (?p, ?s) ^ has_Calorie_Level (?p, ?k)
^ Dietary_Servings (?y) ^ has_Stage (?y, ?s)
^ has_Calorie_Level (?y, ?k) ^ has_Grain_Servings
(?y, ?ans) ? has_Grain_Servings (?x, ?ans)

Rule-11

(3) Semantic rules under the concept of ‘‘Personal Nutrient
Count”
The rules below examine the differences in food group servings
and key nutrient intakes between the case patient’s diet and the
suggested values. Before examining the differences, we need to
first calculate the actual amounts of the patient’s food combination. The Semantic Query-Enhanced Web Rule Language (SQWRL)
is used to help the arithmetic operations of rules.

215

 Calculating the actual food group servings: After the calculation is completed, the results are output by case, food
group, and intake servings (Rule-17).
Rule-17
Personal_Dietary (?x) ^ has_Case_Name (?x, ?x1) ^
has_Name (?x1, ?x2) ^ has_Intake_Food (?x, ?y) ^
Food_Selection (?y) ^ has_Food (?y, ?g) ^
has_Food_Group (?y, ?g1) ^ has_Servings (?y, ?n)
sqwrl:makeBag (?s, ?n) ^ sqwrl:groupBy (?s, ?x, ?g)
sqwrl:sum (?ans, ?s) ? sqwrl:select (?x2, ?g1, ?
ans) ^ sqwrl:columnNames (‘‘CSV_Name”,
‘‘CSV_Food_Group”, ‘‘CSV_Servings”)
 Calculating the actual key nutrient intake: After the calculation is completed, the results are output by case and key
nutrient names (Rule-18).
Personal_Dietary (?x) ^ has_Case_Name (?x, ?x1) ^
has_Name (?x1, ?x2) ^ has_Intake_Food (?x, ?y) ^
Food_Selection (?y) ^ has_Food (?y, ?f) ^
has_Servings(?y, ?n) ^ HAS_CALORIE (?f, ?k1) ^
swrlb:multiply (?a, ?k1, ?n)sqwrl:makeSet (?s1, ?
a) ^ sqwrl:groupBy (?s1, ?x)sqwrl:sum (?ans1, ?
s1) [. . .Repeat Proteins, Phosphorus, Potassium,
Sodium ] ? sqwrl:select(?x2, ?ans1, ?ans2, ?
ans3, ?ans4, ?ans5) ^ sqwrl:columnNames
(‘‘CSV_Name”, ‘‘CSV_Calorie”, ‘‘CSV_Protein”,
‘‘CSV_Phosphorous”, ‘‘CSV_Potassium”,
‘‘CSV_Sodium”)

Rule-18

 Examining the food group servings: Developing Rule-19 to
Rule-24 complying with Eq. (3) is calculating the differences between the actual and suggested food group servings. Rule-19 below infers grains servings. Rules for
inferring other food group serving differences can be created in the same manner.
Diet_Examination (?x) ^ has_Case_Name (?x, ?x1) ^
has_Name (?x1, ?x2) ^ Personal_Dietary (?y) ^
has_Case_Name (?y, ?x1) ^ has_Grain_Servings (?y,
?y1) ^ Servings (?z) ^ CSV_NAME (?z, ?x2) ^
CSV_FOOD_GROUP(?z, ‘‘Grain”) ^ CSV_SERVINGS
(?z, ?z1) ^ swrlb:subtract (?ans, ?z1, ?y1) ^ swrlb:
stringConcat (?ans1, ‘‘Inspect Grain standard value:
‘‘, ?y1, ‘‘ case: ‘‘, ?z1, ‘‘ overbalance: ‘‘, ?ans, ‘‘ portion”)
? has_Examine-on_servings (?x, ?ans1)

Rule-19

 Examining the key nutrient intakes values: Developing
Rule-25 to Rule-29 complying with Eq. (4) is calculating
the differences between the actual and suggested key
nutrient intakes. Rule-25 below infers calorie intake.
Rules for inferring other key nutrient intake differences
can be created in the same manner.
Diet_Examination (?x) ^ has_Case_Name (?x, ?x1) ^
has_Name (?x1, ?x2) ^ Personal_Data (?x1) ^
has_Requisite_Calorie (?x1, ?y1) ^ Nutrition (?z) ^
CSV_NAME (?z, ?x2) ^ CSV_CALORIE (?z, ?z1) ^
swrlb:subtract (?ans, ?z1, ?y1) ^ swrlb:stringConcat
(?ans1, ‘‘Inspect Calorie Limitation:”, ?y1, ‘‘ Dietary:
‘‘, ?z1, ‘‘ Overbalance:”, ?ans, ‘‘ kcal”) ?
has_Examine-on-nutrition(?x, ?ans1)

Rule-25

216

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

5. Experiment

5.2. Web-based application development

5.1. Constructing food nutrient compositions

The design of the system processes is modeled from the dietary consultation activities. The patient data and food combination are input into the Web-based application, and the back-end
KBS responds with inferences against existing knowledge. The
application uses Apache Tomcat as the application server to
connect to the inference services provided by the rules engine
(Java Expert System Shell, JESS) in the Protégé platform. Java
Server Page (JSP) is employed to create the Web-based user
interface.
As seen in Fig. 3, the interface is divided into two blocks. The
Personal Data block is for basic patient data. For example, the demonstrated case patient is male, height 165 cm, age 88, weight
66.4 kg, moderately active, and has creatinine value of 2.7. In the
Food List block, three drop-down menu boxes (Food Group, Food
Name, and Servings) are used to input the patient’s daily actual
food combination. The food items and servings are added into
the My Plate box. After completing the personal data and daily food
combination, the back-end rules engine infers the CKD stage, calorie baseline, suggested food group servings, and suggested key
nutrient intakes.

The domain ontology of this study (as described in Section 3.2)
includes three parts: (1) common CKD knowledge, such as the definition of clinical stages, key nutrient restrictions, and food group
servings; (2) controlled vocabulary, including food groups, food
names, and calorie levels for communication and data exchange;
(3) food nutrient composition, including the content data of key
nutrients in individual food items. Facts in the first two types are
completed by inserting instances as shown in Fig. 2. The third concept, the food nutrient composition, is adopted from government
open data sets. Because of the differences in both data model and
format, we developed a pre-processing procedure for open data
transformation as follows:
(1) Data cleaning: The original data have symbols, spaces, and
markings for layout and presentation that need to be
removed before transformation.
(2) Element mapping: Considering the compatibility when transferring to the knowledge base, the properties transferred
need to be named with the correct properties reserved. In
other words, the properties need to be adjusted to connect
to the existing concepts and properties within the knowledge base.
(3) Logical relationship design: The logical relationship between
food nutrient compositions and other knowledge needs to
be established when designing the knowledge framework.
After transferring the data into the instances, the factual
knowledge of the food nutrient compositions are
constructed.

5.3. Knowledge inference
The result interface is presented in four categories following
the dietary consultation problem solving described in Section
3.1. The patient data input is used as facts for triggering the
SWRL rules (from Section 4) to infer against the knowledge
base. Fig. 4 shows the Personal Data, the Food Combination
selected, as well as the results of the rule computations and
inferences:

Fig. 3. Screen snapshot of the web-based application interface.

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

217

Fig. 4. Screen snapshot of knowledge inference results.

(1) Calculating suggested food group servings by individual conditions: In the upper left block of Fig. 4, the suggested servings of the six food groups are obtained from executing Rule11 through Rule-16.
(2) Calculating suggested key nutrient intakes by individual
conditions: In the upper right block of Fig. 4, the calorie
requirement and four suggested key nutrient intakes are
obtained (Rule-6 through Rule-10).
(3) Examining suggested food group servings against a patient’s
food combination: In the lower left block of Fig. 4, the results
are obtained from examining the differences in food group
servings between actual food combination and suggested
values (Rule-19 through Rule-24). For example, the resulted
number of servings matches the suggestion in fruits and
dairy, one serving over in protein foods, and half serving
short in oils, and one serving short in grains and vegetables.
(4) Examining suggested key nutrient intakes against a patient’s
food combination: In the lower right block of Fig. 4, the
results are obtained from examining the differences in key
nutrient intakes between actual food combination and suggested values (Rule-25 through Rule-29). For example, in
Protein, the suggested value is 39.8, but the actual value is
48.7, which is 22.4% overbalance.
5.4. Evaluation
For evaluation purpose, we obtained 84 anonymous case
patient records from the collaborating hospital. Each record contains basic personal data and a corresponding clinical suggested
food combination advised by the dietitians previously. The evaluation was done in a three stages:
(1) KBS calculation and inference: We entered the personal data
and the clinical diet suggested key nutrient intakes into
the system interface to perform diet consultation through
our KBS. The resulted system outcomes included: (1) the
evaluation of patient’s CKD clinical stage, (2) suggested food
servings, (3) suggested key nutrient intake, (4) differences in

food group servings between suggested values and the
patient actual food combination, and (5) difference in key
nutrient intakes between suggested values and the patient
actual food combination.
(2) Manual verification by dietitians: Results of the case patient
experiments were then sent to the two hospital dietitians
for verification. Using the same data set, the dietitians manually looked up related tables, went through standard diagnosis processes, and used professional reasoning to
determine each case patient’s conditions and dietary needs.
Eq. (7) is a general equation for calculating the accuracy of
system estimation. The accuracy is the ratio of the number
of identical (between the system outcome and expert evaluation) results over the total number of case results. During
the first round evaluation process, a number of inconsistent
results were found. Through verification with the dietitians,
some incorrect manual calculations were found and corrected, and the dietitians’ suggestions were identical to the
results of KBS inference in second round (see Table 7). This
finding is similar to a previous study where the system estimation is faster and more accurate than manual estimation
[19].

P
accuracy ¼

fSystem outcome is identical to expertestimationg
P
Total population
ð7Þ

(3) Historical data verification: Finally, we compared the inference results from the KBS with the dietitian suggested food
combinations (historical data, as seen in the last row of
Table 7). We found noticeable differences in all columns
except the CKD Clinical stage. After a joint review of the
researchers, it was found that 22 patients had comorbidity
and complication (CC) and 5 patients had non-medical reasons. These interference factors had caused the differences.
However, for the cases without the interference factors,
the inference results of the KBS and the dietitians were
identical.

218

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219

Table 7
Comparison of Different Verification Types.
Verification type

Items checked
Estimated clinical stage and suggested diet

Dietitians (Manual)

First round
Second round

Historical data

Difference between suggested diet and patient diet
combinations

Clinical stage (%)

Food group servings (%)

Key nutrient intake (%)

Food group servings (%)

Key nutrient intake (%)

97.2
100
100

95.4
100
78.6

91.7
100
73.8

92.4
100
71.4

88.9
100
67.9

6. Conclusion and discussions

References

This study has developed a pilot CKD dietary consultation system by constructing an OWL-based KBS. Under standard scenarios,
the experiment results from the KBS inference are identical to the
dietitians’ manual calculation and reasoning. The KBS is capable of
not only imitating the dietitians’ decision making process in CKD
dietary consultation, but also reducing time consumption and calculation errors.
In terms of knowledge modeling, three major KBS design components are as follows:

[1] NKF (National Kidney Foundation). Clinical practice guidelines for chronic
kidney disease: evaluation, classification, and stratification. <https://www.
kidney.org/professionals/kdoqi/pdf/ckd_evaluation_classification_stratification.
pdf>.
[2] McCullough ML, Feskanich D, Stampfer MJ, Giovannucci EL, Rimm EB, Hu FB,
et al. Diet quality and major chronic disease risk in men and women: moving
toward improved dietary guidance. Am J Clin Nutr 2002;76:1261–71.
[3] Levey AS, Coresh J, Balk E, Kausz AT, Levin A, Steffes MW, et al. National kidney
foundation practice guidelines for chronic kidney disease: evaluation,
classification, and stratification. Ann Intern Med 2003;139:137–47.
[4] Levey AS, Coresh J. Chronic kidney disease. Lancet 2012;379:165–80.
[5] Kalista-Richards M. The kidney: medical nutrition therapy—yesterday and
today. Nutr Clin Pract 2011;26:143–50.
[6] Myers Gary L, Greg Miller W, Coresh Josef, Fleming James, Greenberg Neil, et al.
Recommendations for improving serum creatinine measurement: A report
from the laboratory working group of the national kidney disease education
program. Clin Chem 2006;52:5–18.
[7] Stevens LA, Coresh J, Greene T, Levey AS. Assessing kidney function—measured
and estimated glomerular filtration rate. N Engl J Med 2006;354:2473–83.
[8] WHO (World Health Organization). Diet, nutrition and the prevention of
chronic diseases. <http://whqlibdoc.who.int/trs/who_trs_916.pdf>.
[9] Plessers P, De Troyer O, Casteleyn S. Understanding ontology evolution: a
change detection approach. Web Seman Sci Serv Agents World Wide Web
2007;5:39–49.
[10] Welty C, Guarino N. Supporting ontological analysis of taxonomic
relationships. Data Knowl Eng 2001;39:51–74.
[11] García-Castro R, Gómez-Pérez A. Interoperability results for semantic web
technologies using OWL as the interchange language. Web Semant Sci Serv
Agents World Wide Web 2010;8:278–91.
[12] Horrocks I, Patel-Schneider PF, van Harmelen F. From SHIQ and RDF to OWL:
the making of a web ontology language. Web Seman Sci Serv Agents World
Wide Web 2003;1:7–26.
[13] Gennari JH, Musen MA, Fergerson RW, Grosso WE, Crubézy M, Eriksson H,
et al. The evolution of Protégé: an environment for knowledge-based systems
development. Int J Hum Comput Stud 2003;58:89–123.
[14] Corsar D, Sleeman D. Reusing JessTab rules in Protégé. Knowl-Based Syst
2006;19:291–7.
[15] Horrocks I, Patelschneider P, Bechhofer S, Tsarkov D. OWL rules: a proposal
and prototype implementation. Web Seman Sci Serv Agents World Wide Web
2005;3:23–40.
[16] Aniba MR, Thompson JD. Knowledge Based Expert Systems in Bioinformatics.
<http://www.intechopen.com/books/expert-systems/knowledge-based-expertsystems-in-bioinformatics>.
[17] Abu-Hanna A, Cornet R, de Keizer N, Crubézy M, Tu S. Protégé as a vehicle for
developing medical terminological systems. Int J Hum Comput Stud
2005;62:639–63.
[18] Roventa E, Rosu G. The diagnosis of some kidney diseases in a small prolog
Expert System. In: The 3rd international workshop on soft computing
applications; 2009. p. 219–24.
[19] Chen Y, Hsu C-Y, Liu L, Yang S. Constructing a nutrition diagnosis expert
system. Expert Syst Appl 2012;39:2132–56.
[20] Lee C-S, Wang M-H, Acampora G, Hsu C-Y, Hagras H. Diet assessment based on
type-2 fuzzy ontology and fuzzy markup language. Int J Intell Syst
2010;25:1187–216.
[21] Wielinga BJ. Reflections on 25+ years of knowledge acquisition. Int J Hum
Comput Stud 2013;71:211–5.
[22] Anderson JR. Problem solving and learning. Am Psychol 1993;48:35–44.
[23] Lai LF. A knowledge engineering approach to knowledge management. Inf Sci
2007;177:4072–94.
[24] Zack MH. Managing codified knowledge. Sloan Manage Rev 1999;40:45–58.
[25] Aussenac-Gilles N, Gandon F. From the knowledge acquisition bottleneck to
the knowledge acquisition overflow: a brief French history of knowledge
acquisition. Int J Hum Comput Stud 2013;71:157–65.
[26] Breuker J. A cognitive science perspective on knowledge acquisition. Int J Hum
Comput Stud 2013;71:177–83.
[27] Tao C, Pathak J, Solbrig HR, Wei WQ, Chute CG. Terminology representation
guidelines for biomedical ontologies in the semantic web notations. J Biomed
Inform 2013;46:128–38.

(1) A domain ontology as a hierarchical representation of the
declarative knowledge required for problem solving tasks:
The three concepts established are controlled vocabulary,
common definition of CKD, and food nutrient composition.
Under each concept, related sub-concepts and instances
are asserted. The domain knowledge is acquired from open
data repositories and transformed into the domain ontology
after defining the logical relationships among the knowledge
sources.
(2) A task ontology as a representation of the knowledge model
for problem solving: Six top-level concepts are developed as
shown in Table 6. The task ontology uses properties to represent logical relationships such as combination, aggregation, and cause-effect among concepts. Particularly, this
study designed 18 inferred properties for enumerating
detailed sub-tasks.
(3) Use of SWRL and SQWRL for creating semantic rules: Both
languages are used to obtain the values of the inferred properties. Together these rules formulated the implementation
of the problem solving. In total, 29 rules are developed to
create correspondence between the rules and the concepts
and to infer the desired dietary consultation results.
For future clinical deployment, given the experience from the
current research, we suggest to first expand the knowledge model
to include the closely related knowledge sources of CKD comorbidity and complication, such as specific diabetes mellitus and cardiovascular diseases. Such expansion will enable the KBS to take into
account of major interaction and interference factors and thus
enhance its inference capacity for clinical usage. Secondly, the system may be used for interactive dietary management in the clinical
implementation. Since the Web-based application can provide 24/
7 service and keep track of system usage, the dietitians can use the
system to supervise the patients’ daily diet and review the records
in the clinical visits. Thirdly, further clinical experiments involving
larger groups of patients over a lasting period of time are necessary
to gather operational information on system performance and for
modeling enhancement. In the future, with the strengths of open
data linkage and knowledge base extensibility, this CKD dietary
consultation system can be expanded and refined to become a
more comprehensive dietary consultation system for more chronic
diseases.

Y.-L. Chi et al. / Journal of Biomedical Informatics 53 (2015) 208–219
[28] Schreiber G. Knowledge acquisition and the web. Int J Hum Comput Stud
2013;71:206–10.
[29] Rosenbloom ST, Miller RA, Johnson KB, Elkin PL, Brown SH.
Interface terminologies: facilitating direct entry of clinical data into
electronic health record systems. J Am Med Inform Assoc 2006;13:
277–88.
[30] Musen MA. The knowledge acquisition workshops: a remarkable convergence
of ideas. Int J Hum Comput Stud 2013;71:195–9.
[31] Motta E. 25 years of knowledge acquisition. Int J Hum Comput Stud
2013;71:131–4.
[32] Gómez-Pérez A, Benjamins VR. Applications of ontologies and problem-solving
methods. AI Magazine 2009;20:119–22.
[33] Cairó O, Guardati S. The KAMET II methodology: knowledge acquisition,
knowledge modeling and knowledge generation. Expert Syst Appl
2012;39:8108–14.
[34] Mizoguchi R, Ikeda M. Towards ontology engineering. <http://www.ei.sanken.
osaka-u.ac.jp/pub/miz/miz-onteng.pdf>.

219

[35] Fernández-López M, Gómez-Pérez A, Suárez-Figueroa MC. Methodological
guidelines for reusing general ontologies. Data Knowl Eng 2013;86:242–75.
[36] Fürst F, Trichet F. Integrating domain ontologies into knowledge-based
systems. In: Proceedings of the eighteenth international Florida artificial
intelligence research society conference; 2005. p. 826–7.
[37] O’Connor MJ, Shankar RD, Nyulas C, Tu SW, Das AK. Developing a web-based
application using OWL and SWRL. In: AAAI spring symposium: AI meets
business rules and process management; 2008. p. 93–8.
[38] Domingue J, Fensel D. Problem solving methods in a global networked age.
Artif Intell Eng Des Anal Manuf 2009;23:373–90.
[39] Compton P. Situated cognition and knowledge acquisition research. Int J Hum
Comput Stud 2013;71:184–90.
[40] Beimel D, Peleg M. Using OWL and SWRL to represent and reason with
situation-based access control policies. Data Knowl Eng 2011;70:596–615.
[41] Lezcano L, Sicilia MA, Rodriguez-Solano C. Integrating reasoning and clinical
archetypes using OWL ontologies and SWRL rules. J Biomed Inform
2011;44:343–53.

