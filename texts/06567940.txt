IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 17, NO. 6, NOVEMBER 2013

1015

Fuzzy Reasoning of Accident Provenance in
Pervasive Healthcare Monitoring Systems
Yongli Wang, Member, IEEE, and Xiaohua Hu, Member, IEEE

Abstract—In pervasive healthcare monitoring environments,
data provenance, as one metadata, can help people analyze the reasons for medical accidents that are generated by complex events.
This reasoning processing often encounters inaccurate time and
irreversible reasoning problems. How to solve the uncertain process and fuzzy transformation time presents many challenges to
the study of data provenance. In this paper, we propose a backward derivation model with the provenance semantic, backward
fuzzy time reasoning net (BFTRN), to solve these two problems. We
design a backward reasoning algorithm motivated by time automation theory based on this model. With regard to given life-critical
alarms and some constraints, it cannot only derive all evolution
paths and the possibility distribution of paths from historical information, but also efficiently compute the value of fuzzy time
function for each transition of lift-critical complex alarms in the
healthcare monitoring system. We also analyze the properties of
BFTRN model in this paper. Experiments on real dataset show that
the proposed model is efficient.
Index Terms—Fuzzy time automation, life-critical alarm, provenance, reasoning uncertainty.

I. INTRODUCTION
HE development of portable computing devices and miniature sensing devices presents many new opportunities for
personal healthcare [1]. Digital messages from medical devices,
like alarms or clinical data streams, are partitioned into small
packets and are sent through the device’s antenna to a shared
wireless network access point. For patient data, like anesthesia awareness or heart monitors, each device may be constantly
sending a stream of packets that can be assembled in the correct
sequence at a central station or computer system. In practical
scenarios, medical error may be generated by multiple alarm
(event) paths. A complex alarm is to be triggered, only some

T

Manuscript received August 12, 2012; revised February 24, 2013; accepted
July 17, 2013. Date of publication July 24, 2013; date of current version November 12, 2013. This work was supported in part by the National Natural Science
Foundation of China under Grant 61170035, in part by Jiangsu 973 Project
BK2011022, in part by National Natural Science Foundation of Jiangsu under
Grant BK2011702, in part by the special project of Nanjing Scientific Committee Foundation 020142010, and in part by the Fundamental Research Funds for
the Central Universities 30920130112006.
Y. Wang is with the Nanjing University of Science and Technology, Nanjing 210094, China. He is also visiting the College of Information Science
and Technology, Drexel University, Philadelphia, PA 19104 USA (e-mail:
yongliwang@mail.njust.edu.cn).
X. Hu is with the College of Information Science and Technology, Drexel
University, Philadelphia, PA 19104 USA (e-mail: thu@ischool.drexel.edu).
Color versions of one or more of the figures in this paper are available online
at http://ieeexplore.ieee.org.
Digital Object Identifier 10.1109/JBHI.2013.2274518

alarms occurred in accordance with the specific order, and within
a specified time interval. Random waiting strategies of collision
detection (CD) protocol will likely cause uncertain order of
some alarms, and the uncertain delay of alarm.
If there is a medical accident, it is difficult to figure out
what caused the accident and how to generate the accident.
Medical professionals need to investigate the trustworthiness of
some recognized alarm. When the system detected an abnormal alarm, the caregiver should want to trace the audit trail of
data [2].
Provenance systems may be constructed to support a lot of
applications, such as data quality, audit trail, replication recipes,
and attribution. Consequently, the study of provenance has been
increasingly popular recently. The provenance of data products
generated by complex transformations such as workflows is of
considerable value to scientists [3]. We use the term data product
or dataset to refer to data in any form, such as files, tables, and
collections. The two prominent features of the provenance of
a data product are the ancestral data product(s) from which
this data product evolved, and the process of transformation
of these ancestral data product(s), possibly through workflows,
that helped derive this data product.
Petri nets are a terrific tool for modeling systems with interacting concurrent components. Authors in [4] used their
timed extensions in performance modeling. However, the existing alarm recognition methods cannot provide the ability to
trace the provenance of alarm, this work presents a solution.
We create a life-critical alarm firing network, which is similar to a fuzzy time Petri net, for a healthcare monitoring scenario. The abstraction of this net includes “state-like” objects
P and “event-like” objects T and dependencies between these
objects A. Section III describes the detailed definition in this
paper.
An alarm reasoned from the alarm firing network may be
produced by probabilistic classification methods, and the trigger
time of every node may be uncertain. We focus on the uncertain provenance during state transition of alarm and the time of
the transition process. In order to resolve aforementioned problems, this paper designs a backward fuzzy time reasoning net
(BFTRN) model, which can provide effective audit reasoning
for a state transition in multiple alarms firing processes. Based
on this model, the state information of complex alarm and provenance can be better understood, the contributions of this paper
showed as follows:
1) we propose a formal description of the state information
and retrospective operation in the evolution of complex
alarms, which describes the association between various
states clearly by using fuzzy timestamp;

2168-2194 © 2013 IEEE

1016

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 17, NO. 6, NOVEMBER 2013

2) we implement a fuzzy reasoning algorithm to backward
reason the evolution of complex alarm process efficiently,
which can compute the possibility distribution function of
each path.
We have organized this paper as the following. Section II is the
related work. Section III describes BFTRN models and related
definitions of itself. Section IV introduces the concrete implementation of algorithms. Section V validates BFTRN model
and fuzzy reasoning algorithm. Finally, the conclusion and future work can be found in Section VI.
II. RELATED WORK
Provenance can be used to trace the audit trail of data [5],
and detect errors in data generation [6]. Pedigree can establish the copyright and ownership of data, enable its citation
[7], and determine liability in case of erroneous data. Provenance (Lineage) can be not only associated with data products, but also with the processing that enabled the creation
of the data. The general provenance semantic model is 7-W
model [8].
The issue of data provenance support is a weighty one
for healthcare monitoring systems, as the medical domain often makes it mandatory to support functions such as “dependency analysis” or “data replay” needed to satisfy auditing and
other regulatory requirements. [9] proposed a simple, but useful, hybrid provenance model called time-value centric (TVC)
provenance. Authors in [10] proposed an innovative provenance approach in agent-mediated healthcare systems. Authors
in [11] proposed a tool to navigate through and analyze such
provenance information, based on the use of a portal framework that allows different views of provenance information to
coexist.
Image integrity is closely related to its authenticity. The fidelity of information in a medical record is essential; this natural
demand means to identify the provenance and authorship of the
information. [12] presented a new method using cryptographic
means to improve the trustworthiness of medical images, providing a stronger link between the image and information on its
integrity and authenticity, without compromising image quality
to the end user.
However, the existing works mostly focus on document level
provenance for web-based healthcare service, without considering the smaller provenance granularity. To the best of our
knowledge, no work about tracing provenance of complex lifecritical alarms generated by medical sensors or device existed
so far.
There are no time concepts in the traditional basic Petri net.
In order to model and analyze various real-time systems, researchers have proposed many types of time Petri net to deal
with uncertainty of time in real-time system. Murata has proposed fuzzy-timing high-level Petri nets (FTHNs) [13], which
has taken fuzzy set theory for describing the uncertainty or subjectivity. In FTHNs model, the fuzzy time is expressed by four
fuzzy time functions or possibility distributions, which includes
fuzzy timestamp, fuzzy enabling time, fuzzy firing time, and

fuzzy time delay. Every fuzzy time delay corresponds that a transition t is transferred to a place p. However, the FTHNs model
lacks an effective description of time constraints and quantitative analysis of uncertainty of the conflict. Authors in [14] proposed extended fuzzy time Petri net (EFTN), which has added
an effective temporal constraint description. However, EFTN
model lacks support of backward reasoning method and new
applications for lineage tracing work. Authors in [4] described
a method to use Petri nets to simulate and validate a multivendor central patient monitoring system that connects to multiple
portable patient monitors. However, the Petri nets-based simulation cannot provide backward analyzing function of life-critical
errors.
The existing models cannot resolve to infer the uncertain
provenance of giving target place. In this paper, we propose
a BFTRN model, which includes the determination of fuzzy
temporal constraint of transition and possibility distribution
of the evolution path of complex alarms, to analyze the howprovenance and when-provenance of lift-critical error alarm in
the pervasive healthcare monitoring system.

III. MODEL AND DEFINITION
In the pervasive health monitoring environment, an alarm is
a response of sensors when they satisfy certain conditions. We
call triple tuples ai an alarm, where i is an alarm ID, which is
a combination of an encoded number of physical locations of
sensor and the category of alarm:
ai = (I; T ; D)

(1)

where I is a sensor ID that can represent the location of the
sensor or an individual action, T is a time stamp when the sensor
is activated, and D is duration which is the time difference after
one sensor is activated by the next sensor.
A basic alarm is an alarm that does not contain the other
alarms triggered by some sensors. Basic alarms include low
pulse alarm, low consciousness alarm, etc. In practice, people
are interested in multiple numbers of alarms instead of an individual alarm. A complex alarm is a series of alarms that comprise
some basic alarms arranged in order of time of occurrence. On
the other hand, a complex alarm is probably a fusion of some
basic alarms or other complex alarms.
The how-provenance and when-provenance are more valuable than the other provenance for healthcare monitoring application because they contain the life cycle of various alarms.
In this work, how-provenance not only includes information
about involving basic alarms, but also includes the temporal information about involving basic alarms. It records information
about origin sensor data items and the process of their derivations. When-provenance mainly focuses on fuzzy occurrence
time and delay of alarms.
We image a scenario, if a monitoring system detected that a
patient at the critical stage had stop breathing in a life-critical
healthcare monitoring room, say intensive care unit (ICU),

WANG AND HU: FUZZY REASONING OF ACCIDENT PROVENANCE IN PERVASIVE HEALTHCARE MONITORING SYSTEMS

1017

ual decisions. The context DB store several context parameters,
such as sensor location, temperature conditions, humidity conditions, lighting and conditions, which also influence the overall
computation process.
Reasoning provenance based on BFTRN is the other fundamental function in “alarm fusion and provenance reasoning”
layer. Once a medical accident occurs, the administrator or the
investigator need analyze the cause of some interested accident
alarms. In the following, we model this analysis net and describe
the computation of how-provenance and when-provenance using this model.

Fig. 1.

Framework of provenance-aware life-critical monitoring system.

medicals or administers want to know what alarm, at what time,
and how results in the accident. They need to construct an analysis network to trace the audit trail of alarm. The provenance
knowledge can help to diagnose and alert in advance. Because
some alarms occur in parallel with other alarms such as “monitoring heartbeat” and “detecting the depth of anesthesia”, and
that sensor data are uncertain, the analysis network to attribute
alarm must consider fuzzy reasoning.
We design a provenance-aware lift-critical monitoring system
to detect the complex alarm and the reason the provenance of
interested alarms.

A. Provenance-Aware Life-Critical Monitoring System
The framework of provenance-aware life-critical monitoring
system is shown in Fig. 1. Unlike most existing life monitoring
system, the proposed system provides a provenance analyzing
function for an interest alarm.
The first column of Fig. 1 is a pervasive life-critical monitoring environment. It consists of various sensors, such as heart
monitoring, bispectral index and pulse oximetry, which detect
various life-critical alarms. As shown in Fig. 1, these alarms include HMAlarm, BISAlarm, POAlarm, and LoBatAlarm, which
monitor heartbeat, the depth of anesthesia, and the pulse of a
patient and battery status of the device.
In early fusion stage entitled “sensor data processor” in the
second column of Fig. 1, the features extracted from the sensor
streams are first combined and then sent to an analysis unit
(usually a classifier) that provides the decision about the task.
On the other hand, in a late fusion approach, which is entitled
“alarm fusion and provenance reasoning” in the third column
of Fig. 1, the different analysis units first provide the local
decisions (in probability score) based on individual sensor data
features and then combine these local decisions to make a global
decision about an event.
In the “multisensor decision aggregation”, the scores from the
individual event detectors are fused to obtain a final score about
the occurrence of that event, due to the uncertainty in individ-

B. BFTRN Model
In this paper, we construct a provenance analysis network for
patient’s alarm, BFTRN, based on EFTN [14]. We add an effective temporal constraint and some related sets into each token
and each transition. The basic idea of BFTRN is “any” phenomena or system can be described in terms of “cause and effect”.
The state-like objects become the cause for the event-like objects to occur. The effect of this event-like object is another
state-like object.
Definition 1: BFTRN is a 9-tuple (P, T, A, I, O, FT, CT,
D, M0 ), where
1) P is a finite set of states or places, P = {p1 , p2 , . . . , pn },
it represents state-like objects in the pervasive healthcare
monitoring system. E.g., the level of the pulse is ok;
2) T is a finite set of alarms or transitions, T =
{t1 , t2 , . . . , tn }, which meets P ∪ T = Φ and P ∩ T =
Φ;
3) A is a finite subset of (P × T ) ∪ (T × P ) called the flow
relation or the dependency relation;
4) I is an input function, which defines a map from P to T .
I (t) consists of a set of places;
5) O is an output function, which defines a map from T to
P . O(t) consists of set of places;
6) FT is a set of all fuzzy timestamps, which relates to tokens.
An unrestricted timestamp is [0,0,0,0];
7) CT is a mapping function from transition set T to the firing
temporal constraint of transitions, CT: T → h[a, b, c, d],
0 ≤ a ≤ b ≤ c ≤ d, 0 ≤ h ≤ 1. h[a, b, c, d] is effective
temporal interval of tokens, where a, b, c, d are all timestamps, and the possibility of the available tokens in [b, c]
is h, the possibility of the available tokens in [a, b] and
[c, d] is less than h, the tokens lying outside [a, d] are not
available;
8) D is a set of fuzzy delay time that is related to outgoing
arcs of transitions;
9) M0 is an initially marking function, M0 : P → FT. A
marking of the system corresponds to a vector about
places.
To handle uncertain, temporal information, we define four
fuzzy time functions, which is similar to fuzzy time Petri-net
model [13]. They showed as following: fuzzy timestamp πi (τ )
of place pi , fuzzy enabling time et (τ ), fuzzy firing time ot (τ )
and fuzzy delay time dt (τ ) of transition t.

1018

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 17, NO. 6, NOVEMBER 2013

C. Concepts Supporting Provenance Reasoning in BFTRN
We introduce backward reasoning function in fuzzy time Petri
net to support provenance operation, so a backward reasoning
algorithm, based on BFTRN, can describe the complex evolution of concurrent alarms more intuitively. In order to facilitate
the description of the algorithm, the following concepts are
essential:
Definition 2: Previous relation places set (PRPS) is the set of
place pi , which meets pi = I(ti ) (ti is transition), denoted by
PRPS(ti ). Accordingly, next relation places set (NRPS) is the
set of place pi , which meets pi = O(ti ), denoted by NRPS(ti ).
|PRPS(ti )|, and |NRPS(ti )| represents the number of their elements, respectively.
Definition 3: Input transition set (ITS) ITS(pi ) is the set of
transition ti , which meets pi ∈ NRPS(ti ). Accordingly, output
transition set (OTS) OTS(pi ) is the set of transition ti , which
meets pi ∈ PRPS(ti ), |ITS(pi )| and |OTS(pi )| represent the
number of their elements, respectively.
Definition 4: ni (pi , πpi (τ ), ITS(pi ), OTS(pi ))) is a node of
place pi that has 4 tuples, where πpi (τ ) represents the fuzzy
timestamp of pi . NPNS denotes pending nodes set—the set of
ni whose πpi is unknown. Accordingly, processed nodes set
(HPNS) denotes the set of ni whose all πpi is known. Initialized
nodes set (INS) denote the set of new whose πpi is known at the
initial stage.
Definition 5: Transition paths set (TPS) consists of triple
tuples TPSi . TPSi = {(tj , hj , • tj )}, i, j = 1, 2, . . . , n, where
hj represents the number of layers and • tj represents the
set of transition, which includes all directly previous transitions of tj ; evolution paths set (EPS) of Ptarget is the set
of sequence Epathi that can be constructed based on TPSi .
Epathi = {{pstart }(ts , hs , $) {Ps }, . . . ,(tj , hj , • tj ) {Pj }, . . . ,
(tn , hn , • tn ){Ptarget }}, i = 1, 2, . . . n, and{Pj } ∈ NRPS(tj ),
i.e. {Pj } is the next relation place set of the current transition
tj .
How-provenance in BFTRN mainly reflects the relationship
between places, transitions; thus, given a goal place, BFTRN
should generate its EPS and describe all intermediate information. Given a couple of conditions, BFTRN should provide the
formal description and effectively reasoning of fuzzy timestamp
of token. It should provide the fuzzy time function of transition,
which exactly reflected when-provenance.
IV. BFTRN-BASED BACKWARD REASONING ALGORITHM
A. Description of Backward Reasoning Algorithm
The main idea of backward reasoning algorithm is: first, from
the target places, we introduce a traversing algorithm (which is
similar to depth first search) to get every evolution path (EP),
which consists of procedure DFS_Visit_P and DFS_Visit_T that
visits the places and transitions, respectively. The procedure
HandlingPath is to generate the sub path. Secondly, we transform EPS to TPS. Finally, procedure ProcessingEPS computes
every fuzzy time function value of each place and transition and
the value of possibility distribution of each EP. We omitted the
description of these four procedures due to page limit.

B. Properties of Algorithm
Proposition 1: BFTRN-based backward reasoning algorithm
is completeness.
Proof: Based on aforementioned BFTRN definition, we run
backward reasoning algorithm from the target places Ptarget ,
every related place and transition can be attributed and computed repeatedly. Finally, we achieve EPS of Ptarget . Similar
to white-path theorem in breadth-first search, the processing of
depth-first search color places or transitions during the searching period to mark their state. Each vertex (place or transition)
is marked white initially, and will be marked GRAY when it
has been discovered, and will be marked BLACK when the
searching has finished. Each vertex v (place or transition) has
two timestamps: the first timestamp d[v] will be recorded when
v is gray, and the second timestamp f [v] will be recorded when
v is black; therefore, every vertex can be visited only one time.
Thus, all elements in EPS will be constructed, which can prove
the completeness of BFTRN.

Lemma 1: In a depth-first tree of a BFTRN graph (where
the place or transition can be represented by vertex), vertex v
is a descendant of vertex u if and only if when u is visited at

WANG AND HU: FUZZY REASONING OF ACCIDENT PROVENANCE IN PERVASIVE HEALTHCARE MONITORING SYSTEMS

the timestamp d[u], there is a path from u to v which entirely
consists of white vertices.
Proof: =>: Now suppose vertex v is a descendant of vertex
u and w is a vertex in the path from u to v, we have d[u] < d[w]
because w is not visited at time d[u]; thus, w will be marked
white.
<=: Suppose that there is a path of white vertices from u to
v at time d[u], but v does not become a descendant of u in the
depth-first tree. Without loss of generality, suppose that every
vertex along the path becomes a descendant of u except for v.
(Let v be the closest vertex to u along the path that does not
become a descendant of u.) Let w be the predecessor of v in the
path, so that w is a descendant of u (in fact, w and u may be
the same vertex). Because v must be visited after u is visited,
but before w is visited, we have d[u] < d[v] < f [w] ≤ f [u]. So
the interval [d[v], f [v]] is entirely contained within the interval
[d[u], f [u]]. Thus, v must be a descendant of u.

Theorem 1: The circuit path does not exist in EPS of BFTRN.
Proof: According to lemma 1, back edges cannot be produced
in depth-first search of BFTRN (where back edges are those
edges (u, v) that connects a vertex u to an ancestor v in a depthfirst tree). Suppose there exists a back edge (u, v) in EPS of
BFTRN, v is the ancestor of u in the depth-first tree; thus, there
must be a path which can form a circuit path to the back edge
(u, v).

Theorem 2: Suppose the number of vertexes (place and transition) and edges in BFTRN are n and m, respectively. The
average temporal complexity of backward reasoning algorithm
is Θ(n + m), and the worst temporal complexity is Θ(n + m) +
O(n3 ).
Proof: Similar to DFS, each vertex (place or transition) should
be marked white (a marker) in the initial stage. The vertex
is marked gray at the first visit; thus, the execution time of
the initial stage is Θ(n). The depth-first search mainly consists of two procedures, DFS_Visit_P and DFS_Visit_T, where
the number of invoking of the former one is |OTS(p)| and
the latter one is |PRPS(t)|; thus, in theory the execution time
of the depth-first search is Σp ∈P |OTS(p)| + Σt ∈T |PRPS(t)|
≥ Θ(m). Since only white vertexes will be visited, the execution time is Θ(m) indeed. The procedure HandlingPath will be
invoked after DFS_Visit_P returning to DFS_Visit_T, and then
HandlingPath will visit the set IOP(t) and IOP(px ).
Suppose |IOP(t)| = n1 , |IOP(px )| = n2 , n1 < n, n2 < n; thus,
the time complexity of this aggregation is Ω(n1 ∗ n1 ∗|T |) and
the upper limit is O(n3 ), where |T | < n/2 denotes the number
of vertexes. When |OTS(p)| = |PRPS(t)| = 1, the algorithm
is in the best situation, the average temporal complexity of the
backup reasoning algorithm is Θ(n + m), and the worst one is
Θ(n + m) + O(n3 ).


V. EXPERIMENTS AND ANALYSIS
We constructed a real provenance-aware life-critical monitoring system (shown as in Fig. 1) in an operating room at The
General Hospital of the People’s Liberation Army in China. We
implement the BFTRN-based backward reasoning algorithm us-

Fig. 2.

1019

Bispectral index (BIS) sample dataset.

ing Visual C++ and labVIEWTM . “Shock” is generally a temporary state of massive physiological reaction to severe physical
or emotional trauma, usually characterized by marked loss of
blood pressure and depression of vital processes, say, BIS below
40. The major goal of these experiments is to verify the validity
of BRTRN-based backward reasoning algorithm by analyzing
“shock alarm” of the patient. As well as we will study the risk
factors associated with mortality of the operating room.
To compare the validity of the proposed algorithm, we use the
other method, colored Petri net (CPN), to analyze the complex
triggered process in a similar life-critical alarms environment.
The experimental configuration is as follows:
Monitoring sensor and network device: heart monitoring, bispectral index, pulse oximeter, wireless LAN network access
point. Monitoring station: OS: windows 2007, CPU: Intel(R)
Core 2 (TM) i5–2410M 2.30 GHz, main memory: 4G.
A. Description of Experimental Dataset
We collected plentiful life-critical sensor data of patients for
30 days. The life-critical sensor dataset in the operating room
consists of a sample of 200 adult patients in an operating room.
The size of the selected sample data satisfies statistical significance. We select different sex and different ages. The age of
patients is between 28 and 78. The number of male patients is
114, and the number of female patients is 86. The race of all
patients is Asian. For average patients, the normal range of systolic blood pressure is 100 mm Hg–140 mm Hg, and the normal
range of heart rate is 55 Beats/min–110 Beats/Min.
Because the bispectral index (BIS) value is a mortal critical factor for a patient with a surgery, this provenance-aware
life-critical monitoring system mainly focuses on the level of
anesthesia during the operation. Other sensor data can be viewed
adjuvant factor to determine the BIS value.
We choose a 40-year-old female patient and acquired her
80 min BIS values. Fig. 2 represents the ongoing calculations of
the BIS Index during an operation, which consists of the three
phases of a general anesthetic case as follows: induction (BIS
values decreased rapidly), maintenance (BIS value is typically
maintained at 40–60), and emergence (BIS value increased continuously). The BIS accident that may occur includes the sudden
decrease and the sudden increase. The former can result in patients in shock, and the latter can lead to premature recovery of

1020

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 17, NO. 6, NOVEMBER 2013

consciousness. The circle marker in Fig. 2 presents an occurrence of sudden decreases in the BIS value.
When a sudden BIS change occurs, we should examine the
presence of artifacts (EMG, electrocautery or high-frequency
signals). High frequency artifacts including those listed may
contaminate the EEG signal and bias the BIS toward a higher
value. The most difficult thing is that the clinical significance of
a lot of changes remains unknown.
The drastic changes of BIS data may be caused by a variety
of reasons. The proposed algorithm in this paper can determine
the cause. According to the analysis of the specific condition of
the patient, the medical suggest that the triggering threshold of
HMAlarm is [95,145]. Where “[” denotes the lower bound and
“]” denotes the upper bound. The firing threshold of POAlarm
is [50,115]. The triggering threshold of BISAlarm is [35, 60]
during operation. The triggering threshold of LoBatAlarm is the
lower limit of power supply time based on the manual of the
device.
CPN tools [15] allow tracking and controlling each message
in a network based on preselecting criteria. So we use the CPN
to simulate and validate alarm integrity in this multimodality
wireless patient monitoring system. Based on the medical suggestions and the a priori knowledge derived from CPN model,
we generate BFTRN and verify the performance of backward
reasoning algorithm.
CPN only analyzes the forward alarms. In the following section, the algorithm of BFTRN-based backward reasoning will
compute the uncertain provenance of a target shock alarm.

B. Establishment of BFTRN
Let E1 is POAlarm, E2 is BISAlarm, E3 is HMAlarm, E4
is LoBatAlarm, suppose that an a priori rule that may result in
shock HandleAlarm Etarget is:
Etarget = WITHIN (TSEQ(WITHIN(E1 ∧ E2 , 5 s); TSEQ
(E2 ; E3 , 2 s, 5 s), 20 s, 50 s) ∧E4 , 600 s). Where the operator “E1 ∧ E2 ” represents E1 and E2 occur simultaneously, and
WITHIN(E1 ; t) represents alarm E occurs if an instance e1 of
E1 occurs and dur(e1 ) ≤ t, where dur(e1 ) denotes the duration time of e1 ; suppose that the results of WITHIN(E1 ∧ E2 ,
5 s) is a complex alarm E5 . The operator TSEQ(E2 , E3 ; t1 , t2 )
represents the complex alarm E6 occur if an instance e2 of E2
and an instance e3 of E3 occur according to temporal sequence,
and t2 ≥ dist(e2 , e3 ) ≥ t1 , where dist(e2 , e3 ) denotes the temporal interval between e2 and e3 . Suppose that the result of
TSEQ(WITHIN(E1 ∧ E2 , 5 s); TSEQ(E2 ; E3 , 2 s, 5 s), 20 s,
50 s) is complex alarm E7 .
We strictly defined the rules to generate complex alarms, so
each complex alarm should be triggered in accordance with the
predefined sequence of alarms in theory. However in practical
healthcare monitoring applications, each basic alarm streams
within the sub complex alarm instance may be out of order. In
other words, a complex alarm may be triggered by one or more
alarm instances sequence. So it is necessary to transform these
complex alarms into a BFTRN instance in order to analyze the
prevalence of complex alarms. In fact, the evolutionary paths

Fig. 3.

BFTRN of shock HandleAlarm E ta rg e t .

of the complex alarms, which were generated by BFTRN-based
backward reasoning algorithm, are more than one. Moreover,
the firing time is uncertain.
A medical accident (an alarm) may be triggered more than
one way. Thus, we construct the BFTRN based on the medical
suggestion and a priori rule, the BFTRN of the patient’s shock
Handle Alarm Etarget is shown as Fig. 3, the meanings of place
and transition shows as follows respectively:
The semantic of places is: the place p1 denotes arrived state
of the instance e11 of E1 (p2 : e21 of E2 ; p3 : e12 of E1 ; p4 : e22
of E2 ; p5 : e23 of E2 ; p6 : e31 of E3 ; p9 : e41 of E4 ; p11 : e42 of
E4 ), p7 denotes fired state of E5 (p8 : E6 ; p10 : E7 ), p12 denotes
fired state of query rule Etarget .
The semantic of transitions is: the transition t1 means system
detected the reaching of alarm’s instances, e21 follows e11 (t2 :
e12 follows e22 ; t3 : e31 follows e23 ), t4 means system detected
the firing of complex alarm, E6 follows E5 (t5 : E7 follows E4 ;
t6 : E4 follows E7 ).
Parameters setup is: π(p1 ) ∼ π(p11 ): 1[0, 0, 0, 0]; CT(t1 ) ∼
CT (t6 ): 0.4[2, 2, 3, 5], 0.6[1, 2, 4, 5], 1[2, 3, 3, 5], 1[21, 29, 36,
45], 0.5[70, 250, 410, 590], 0.5[75, 185, 360, 550]; D(t1 p7 ) ∼
D(t6 p12 ): [3, 4, 4, 8], [3, 5, 6, 9], [1, 3, 3, 5], [12, 21, 25, 34],
[110, 235, 390, 571], [125, 279, 350, 536]; experiment times:
[0, 200].
We gain four evaluation paths using backward reasoning algorithm, shows as follow:
The path EP S1 is{{p1 , p2 }(t1 , 3, t4 ){p7 },{p5 , p6 }(t3 , 3, t4 )
{p8 }, (t4 , 2, t5 ) {p9 , p10 }, (t5 , 1, Ф) {p12 }}; the path EP S2 is
{{p1 , p2 }(t1 , 3, t4 ){p7 }, {p5 , p6 }(t3 , 3, t4 ) {p8 }, (t4 , 2, t6 )
{p10 , p11 }, (t6 , 1, Ф) {p12 }}; the path EP S3 is {{p3 , p4 }(t2 , 3,
t4 ){p7 }, {p5 , p6 }(t3 , 3, t4 ) {p8 }, (t4 , 2, t5 ) {p9 , p10 }, (t5 , 1, Ф)
{p12 }}; the path EP S4 is {{p3 , p4 }(t2 , 3, t4 ){p7 }, {p5 , p6 }
(t3 , 3, t4 ) {p8 }, (t4 , 2, t6 ) {p10 , p11 }, (t6 , 1, Ф) {p12 }}.
Based on the execution results, we can draw a conclusion
that the most likely cause and process, which trigger a complex alarm ETarget from the established initial conditions are
as follows. Firstly within 5 s, the instance E2 and E1 reached
successively, and they triggered the complex alarm E5 . Afterward within the interval [2, 5] s, the instance E2 and E3 reached
successively, they triggered the complex alarm E6 . It happened
that the trigger time of the instance E5 and E6 located within the
interval [20, 50] s, which triggered the complex alarm E7 . Secondly, if the instance E4 reached within 600 s when the instance

WANG AND HU: FUZZY REASONING OF ACCIDENT PROVENANCE IN PERVASIVE HEALTHCARE MONITORING SYSTEMS

Fig. 5.
Fig. 4.

1021

Completion of execution cost between two algorithms.

Possibility distribution of paths.

E7 had triggered, finally it would trigger the alarm ETarget that
corresponds to the complex rule query. The experimental results
verified the feasibility and correctness of the proposed model.
The possibility distribution value of each path can be calculated according to [13]. Fig. 4 shows the respective possibility
distribution value of the four evolutionary paths in the different
sampling times. We can see the average possibility of the evolution path EP S3 is highest in the nearly 200 times experimental
results. This conclusion is consistent with results derived from
CPN lift-critical analysis model.

C. Comparison of Traversal Strategy
The process to traverse BFTRN in the proposed backward
reasoning algorithm is similar to the DFS traversal process in
the DAG. However, the traditional traversing method for Petri
net usually used breadth first search (BFS) traversal strategy. It
is vital to determine a DFS traversal strategy or BFS traversal
strategy, which is more suitable for backward looking up the
provenance of a given place (alarm). According to the complexity of the backward reasoning algorithm, when the association
status of the nodes in Petri net is similar to the full binary tree,
the traversal process of the algorithm will maintain a relatively
stable state. So we set up the different nodes of the Petri net in
which the average in-degree of each node is approximately equal
in the next experiment. Experimental results show as Fig. 5.
When the number of Petri net’s nodes is less than 30, the
time cost of the two algorithms is almost equal, but when the
number of nodes is more than 30 or more, the performance of
the BFTRN – base algorithm is superior to that of the BFS algorithm. Mainly because the BFTRN model introduces IOP structure to store intermediate results during searching path, which
efficiently reduces the possibility to repeat the same searched
path. However, the BFS – based algorithm clearly does not have
such features. Furthermore, theorem 1 in this paper has proofed
the EPS of BFTRN does not contain a circuit path. If there are

many nodes in life-critical Petri net, the BFTRN-Base algorithm
is significantly more effective.
VI. CONCLUSION AND FUTURE WORK
Pervasive healthcare monitoring systems are prime examples of ultra large scale systems involving complex, distributive
processes with a high degree of variability. It is significant to understand how provenance information may be recorded, stored,
and subsequently analyzed by a decision maker.
This paper proposes a BFTRN model by combining data
provenance semantic and fuzzy time Petri net. Using this model,
the problems of backward reasoning and calculation of related
fuzzy time functions can be effectively resolved. The reasoning
uncertainty provenance algorithm can be widely used to trace
alarms in complex pervasive healthcare monitoring system. The
future work is to study provenance analysis that supports the
strategy of the high-possibility first firing or mixed strategy to
resolve conflicts.
REFERENCES
[1] S. Kumara, L. Y. Cui, and J. Zhang, “Sensors, networks and internet
of things research challenges in health care,” presented at the 8th Int.
Workshop Inf. Integr. Web: In Conjunction with WWW 2011 (IIWeb’11),
Hyderabad, Andhra Pradesh, India, Mar. 2011.
[2] W. C. Tan, “Provenance in databases: Past, current, and future,” IEEE
Data Eng. Bull., vol. 30, pp. 3–12, Apr. 2007.
[3] Y. L. Simmhan, B. Plale, and D. Gannon, “A survey of data provenance
techniques,” Computer Science Department, Indiana University, Bloomington, IN, Tech. Rep. IUB-CS-TR618, 2005.
[4] V. Gehlot and E. B. Sloane, “Applications of the petri net to simulate
and validate complex, multi-vendor, heterogeneous networks of wireless
medical device systems,” in Proc.10th Americas Conf. Inform. Syst., New
York, NY, USA, Aug. 2004, pp. 4631–4636.
[5] S. Miles, P. Groth, M. Branco, and L. Moreau, “The requirements of
recording and using provenance in e-Science experiments,” J. Grid Comput., pp. 1–25, Mar. 2007.
[6] H. Galhardas, D. Florescu, D. Shasha, E. Simon, and C. A. Saita, “Improving data cleaning quality using a data lineage facility,” in Proc. Design
Manage. Data Warehouses, 2001, pp. 1–13.
[7] H. V. Jagadish and F. Olken, “Database management for life sciences
research,” in SIGMOD Rec., 2004, vol. 33, pp. 15–20.
[8] R. Sudha and J. Liu, A new perspective on semantics of data provenance
(2009). [Online]. Available. http://ceur-ws.org /vol-526/invited paper1.pdf.

1022

IEEE JOURNAL OF BIOMEDICAL AND HEALTH INFORMATICS, VOL. 17, NO. 6, NOVEMBER 2013

[9] M. Blount, J. Davis, A. Misra, D. Sow, and M. Wang, “A time-and-value
centric provenance model and architecture for medical event streams,” in
Proc. 1st ACM SIGMOBILE Int. Workshop Syst. Netw. Support Healthcare Assisted Living Environments, (HealthNet’07), ACM press, San Juan,
Puerto Rico, USA, Jun. 11, 2007, pp. 95–100.
[10] T. Kifor, L. Z. Varga, J. Vazquez-Salceda, S. Alvarez, S. Willmott,
S. Miles, and L. Moreau, “Provenance in agent-mediated healthcare systems,” IEEE Intell. Syst., vol. 21, no. 6, pp. 38–46, Nov./Dec. 2006.
[11] V. Deora, A. Contes, O. F. Rana, S. Rajbhandari, I. Wootten, K. Tamas,
and L. Z. Varga, “Navigating provenance information for distributed
healthcare management,” in Proc. IEEE/WIC/ACM Int. Conf. Web Intell.,
Hong Kong, China, Dec. 18–22, 2006, pp. 859–865.
[12] L. O. M. Kobayashi, S. S. Furuie, and P. S. L. M. Barreto, “Providing integrity and authenticity in DICOM images: A novel approach,” IEEE
Trans. Inf. Technol. Biomed., vol. 13, no. 4, pp. 582–589, Jul. 2009.
[13] T. Murata, T. Suzuki, and S. Shatz, “Fuzzy-timing high-level Petri nets
(FTHNs) for time-critical systems,” in Fuzziness in Petri Nets (Series
Studies in Fuzziness and Soft Computing), vol. 22, J. Cardoso and H.
Camargo Eds. Springer-Verlag, New York, NY, USA, 1999, pp. 88–114.
[14] Y. Zhou and T. Murata, “Modeling and performance using extended fuzzytiming Petri nets for networked virtual environment,” IEEE Trans. Syst.,
Man, Cybern.-Part B: Cybern., vol. 30, no. 5, pp. 737–755, May 2000.
[15] E. B. Sloane and V. Gehlot, “Use of colored Petri net models in planning,
design, and simulation of intelligent wireless medical device networks for
safe and flexible hospital capacity management,” J. Int. J. Netw. Virtual
Organizations, vol. 4, pp. 118–129, May 2007.

Yongli Wang (M’74) received the Ph.D. degree from the Southeast University,
Jiangsu, China, in 2006.
He is currently an Associate Professor in the Department of Computer Science and Engineering at Nanjing University of Science and Technology, Jiangsu,
China. He is the author or coauthor of more than 50 papers in database and leading wireless network journals and conferences. His current research interests
include sensor networks, data streams management, mobile computing, data
mining, cyber-physical system, healthcare monitoring, etc., and is supported by
the NCSF and other agencies. For his research activities, he also spent extended
periods of time at Drexel University, Philadelphia, PA, USA.
Dr. Wang is a member of the ACM.

Xiaohua Hu (M’67) received the B.Sc. degree in software from Wuhan University, Wuhan, China, in 1985, the M.Eng. degree in computer engineering
from the Institute of Computing Technology, Chinese Academy of Sciences,
Beijing, China, in 1988, the M.Sc. degree in computer science from Simon
Fraser University, Burnbay, BC, Canada, in 1992, and the Ph.D. degree in computer science from the University of Regina, Regina, SK, Canada, in 1995.
He is currently a Full Professor and the Founding Director of the data mining
and bioinformatics lab at the College of Information Science and Technology,
Drexel University, Philadelphia, PA, USA. His current research interests include biomedical literature data mining, bioinformatics, text mining, semantic
web mining and reasoning, rough set theory and application, information extraction and information retrieval. He has published more than 200 peer-reviewed
research papers in various journals, conferences and books such as various
IEEE/ACM TRANSACTIONS (IEEE/ACM TCBB, IEEE TFS, IEEE TDKE, IEEE
TITB, IEEE Computer), JIS, KAIS, CI, DKE, IJBRA, SIG KDD, IEEE ICDM,
IEEE ICDE, SIGIR, ACM CIKM, IEEE BIBE, IEEECICBC, etc., and co-edited
9 books and proceedings.
Dr. Hu has received a few prestigious awards including the 2005 National
Science Foundation (NSF) Career award (the most prestigious award from NSF
to young faculty in USA), the Best Paper Award at the 2007 International Conference on Artificial Intelligence, etc.

